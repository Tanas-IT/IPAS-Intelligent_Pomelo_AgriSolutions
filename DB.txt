Use [master]
GO
DROP DATABASE [IPAS]
GO
CREATE DATABASE [IPAS]
GO
USE [IPAS]
GO
-- ipas.dbo.Farm definition

-- Drop table

-- DROP TABLE ipas.dbo.Farm;

CREATE TABLE ipas.dbo.Farm (
	FarmID int IDENTITY(1,1) NOT NULL,
	FarmCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FarmName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Address nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LogoURL nvarchar(500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Area float NULL,
	SoilType nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ClimateZone nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	IsDeleted bit NULL  DEFAULT 0,
	Longitude float NULL DEFAULT 0,
	Latitude float NULL  DEFAULT 0,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Length] float NULL ,
	Width float NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	District nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Ward nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Province nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
		CONSTRAINT PK__Farm__ED7BBA991346855A PRIMARY KEY (FarmID)
);

-- ipas.dbo.Crop
CREATE TABLE ipas.dbo.Crop (
	CropID int IDENTITY(1,1) NOT NULL,
	CropCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CropName nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	StartDate datetime NULL,
	EndDate datetime NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CropExpectedTime datetime NULL,
	--Year int NULL,
	CropActualTime datetime NULL,
	HarvestSeason nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	EstimateYield float NULL,
	ActualYield float NULL,
	IsDeleted bit NULL DEFAULT 0,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Notes nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MarketPrice float NULL,
	FarmID int NULL,
	CONSTRAINT PK__Crop__923561351B1EF0E2 PRIMARY KEY (CropID),
        CONSTRAINT Crop_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID)
);



-- ipas.dbo.GrowthStage definition

-- Drop table

-- DROP TABLE ipas.dbo.GrowthStage;

CREATE TABLE ipas.dbo.GrowthStage (
	GrowthStageID int IDENTITY(1,1) NOT NULL,
	GrowthStageCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GrowthStageName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MonthAgeStart int NULL,
	MonthAgeEnd int NULL,
	isDefault bit NULL DEFAULT 0,
	FarmID int NULL,
        isDeleted bit NULL DEFAULT 0,
	CreateDate datetime NULL,
	ActiveFunction nvarchar(200),
	Description nvarchar(MAX) COLLATE Vietnamese_CI_AS NULL,
	CONSTRAINT PK__GrowthSt__B81FB6A5CB51E95C PRIMARY KEY (GrowthStageID),
	CONSTRAINT GrowthStage_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID)
);

-- ipas.dbo.MasterType definition

-- Drop table

-- DROP TABLE ipas.dbo.MasterType;

CREATE TABLE ipas.dbo.MasterType (
	MasterTypeID int IDENTITY(1,1) NOT NULL,
	MasterTypeCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeDescription nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isActive bit NULL  DEFAULT 0,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CreateBy nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TypeName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isDelete bit NULL DEFAULT 0,
	isDefault bit NULL,
	FarmID int NULL,
        Target nvarchar(MAX) NULL,
        IsConflict bit NULL,
	BackGroundColor nvarchar(MAX) COLLATE Vietnamese_CI_AS NULL,
	TextColor nvarchar(MAX) COLLATE Vietnamese_CI_AS NULL,
	Characteristic nvarchar(MAX) COLLATE Vietnamese_CI_AS NULL,
	CONSTRAINT MasterType_PK PRIMARY KEY (MasterTypeID),
	CONSTRAINT MasterType_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID),	
);


-- ipas.dbo.Package definition

-- Drop table

-- DROP TABLE ipas.dbo.Package;

CREATE TABLE ipas.dbo.Package (
	PackageID int IDENTITY(1,1) NOT NULL,
	PackageCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PackageName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PackagePrice float NULL,
	Duration float NULL,
    isActive bit NULL  DEFAULT 0,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__Package__322035EC04B44A12 PRIMARY KEY (PackageID)
);


-- ipas.dbo.[Role] definition

-- Drop table

-- DROP TABLE ipas.dbo.[Role];

CREATE TABLE ipas.dbo.[Role] (
	RoleID int IDENTITY(1,1) NOT NULL,
	RoleName nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isSystem bit NULL  DEFAULT 0,
	CONSTRAINT PK__Role__8AFACE3A5BC7203D PRIMARY KEY (RoleID)
);


-- ipas.dbo.Warning definition

-- Drop table

-- DROP TABLE ipas.dbo.Warning;

CREATE TABLE ipas.dbo.Warning (
	WarningID int NOT NULL,
	WarningCode nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	WarningName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Level] nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
        AffectedStage nvarchar(MAX) NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CONSTRAINT Warning_PK PRIMARY KEY (WarningID)
);


-- ipas.dbo.Criteria definition

-- Drop table

-- DROP TABLE ipas.dbo.Criteria;

CREATE TABLE ipas.dbo.Criteria (
	CriteriaID int IDENTITY(1,1) NOT NULL,
	CriteriaCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CriteriaName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CriteriaDescription nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Priority int NULL,
	isActive bit NULL  DEFAULT 1,
	isDeleted bit NULL default 0,
        FrequencyDate int NULL,
        isDefault bit NULL,
	MasterTypeID int NULL,
	CONSTRAINT PK__Criteria__FE6ADB2D5F0540FD PRIMARY KEY (CriteriaID),
	CONSTRAINT Criteria_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID)
);



-- ipas.dbo.FarmCoordination definition

-- Drop table

-- DROP TABLE ipas.dbo.FarmCoordination;

-- CREATE TABLE ipas.dbo.FarmCoordination (
--	FarmCoordinationID int IDENTITY(1,1) NOT NULL,
--	FarmCoordinationCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
--	Longitude float NULL,
--	Latitude float NULL,
--	FarmID int NULL,
--	CONSTRAINT PK__FarmCoor__6BD490F93070DFBF PRIMARY KEY (FarmCoordinationID),
--	CONSTRAINT FK__FarmCoord__FarmI__18B6AB08 FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) --ON DELETE CASCADE
--);


-- ipas.dbo.HarvestHistory definition

-- Drop table

-- DROP TABLE ipas.dbo.HarvestHistory;

CREATE TABLE ipas.dbo.HarvestHistory (
	HarvestHistoryID int IDENTITY(1,1) NOT NULL,
	HarvestHistoryCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	DateHarvest datetime NULL,
	HarvestHistoryNote nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TotalPrice float NULL,
	HarvestStatus nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CropID int NULL,
        isDelete bit NULL DEFAULT 0,
	CONSTRAINT PK__HarvestH__F15734AD189BFCA2 PRIMARY KEY (HarvestHistoryID),
	CONSTRAINT HarvestHistory_Crop_FK FOREIGN KEY (CropID) REFERENCES ipas.dbo.Crop(CropID) ON DELETE SET NULL
);


-- ipas.dbo.LandPlot definition

-- Drop table

-- DROP TABLE ipas.dbo.LandPlot;

CREATE TABLE ipas.dbo.LandPlot (
	LandPlotID int IDENTITY(1,1) NOT NULL,
	LandPlotCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LandPlotName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Area float NULL,
	[Length] float NULL,
	Width float NULL,
 	RowperLine int NULL,
	RowSpacing float NULL,
        MinLength float NULL,
        MaxLength float NULL,
        MinWidth float NULL,
        MaxWidth float NULL,
	SoilType nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FarmID int NULL,
    isDeleted bit NULL DEFAULT 0,
	IsRowHorizontal bit NULL,
   	LineSpacing float NULL,
  	NumberOfRows int NULL,
	TargetMarket nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__LandPlot__ADDF712A976DFB93 PRIMARY KEY (LandPlotID),
	CONSTRAINT FK__LandPlot__FarmID__2739D489 FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) ON DELETE CASCADE
);


-- ipas.dbo.LandPlotCoordination definition

-- Drop table

-- DROP TABLE ipas.dbo.LandPlotCoordination;

CREATE TABLE ipas.dbo.LandPlotCoordination (
	LandPlotCoordinationID int IDENTITY(1,1) NOT NULL,
	LandPlotCoordinationCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Longitude float NULL,
	Latitude float NULL,
	LandPlotID int NULL,
	CONSTRAINT PK__LandPlot__AA254567BAC71490 PRIMARY KEY (LandPlotCoordinationID),
	CONSTRAINT FK__LandPlotC__LandP__31B762FC FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE
);


-- ipas.dbo.LandPlotCrop definition

-- Drop table

-- DROP TABLE ipas.dbo.LandPlotCrop;

CREATE TABLE ipas.dbo.LandPlotCrop (
	LandPlotID int NOT NULL,
	CropID int NOT NULL,
	CONSTRAINT PK__LandPlot__E4FC273995B901F0 PRIMARY KEY (LandPlotID,CropID),
	CONSTRAINT LandPlotCrop_Crop_FK FOREIGN KEY (CropID) REFERENCES ipas.dbo.Crop(CropID) ON DELETE CASCADE,
	CONSTRAINT LandPlotCrop_LandPlot_FK FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE
);


-- ipas.dbo.LandRow definition

-- Drop table

-- DROP TABLE ipas.dbo.LandRow;

CREATE TABLE ipas.dbo.LandRow (
	LandRowID int IDENTITY(1,1) NOT NULL,
	LandRowCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RowIndex int NULL,
	TreeAmount int NULL,
	Distance float NULL,
	[Length] float NULL,
	Width float NULL,
        MinLength float NULL,
        MaxLength float NULL,
        MinWidth float NULL,
        MaxWidth float NULL,
        MaxNumberOfPlant int NULL,
	Direction nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LandPlotID int NULL,
	FarmID int NULL,
        isDeleted bit NULL DEFAULT 0,
	CONSTRAINT PK__LandRow__0E72A6FAD7B08F4C PRIMARY KEY (LandRowID),
	CONSTRAINT FK__LandRow__LandPlo__22751F6C FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE
);


-- ipas.dbo.LegalDocument definition

-- Drop table

-- DROP TABLE ipas.dbo.LegalDocument;

CREATE TABLE ipas.dbo.LegalDocument (
	LegalDocumentID int IDENTITY(1,1) NOT NULL,
	LegalDocumentCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LegalDocumentType nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LegalDocumentName nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LegalDocumentURL nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	IssueDate datetime NULL,
	ExpiredDate datetime NULL,
	Status nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateAt datetime NULL,
	UpdateAt datetime NULL,
	FarmID int NULL,
	CONSTRAINT LegalDocument_PK PRIMARY KEY (LegalDocumentID),
	CONSTRAINT LegalDocument_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID)
);


-- ipas.dbo.[Order] definition

-- Drop table

-- DROP TABLE ipas.dbo.[Order];

CREATE TABLE ipas.dbo.[Order] (
	OrderID int IDENTITY(1,1) NOT NULL,
	OrderCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	OrderName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TotalPrice float NULL,
	Notes nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(200) NULL,
	OrderDate datetime NULL,
	EnrolledDate datetime NULL,
	ExpiredDate datetime NULL,
	PackageID int NULL,
	FarmID int NULL,
	CONSTRAINT PK__Order__C3905BAF4F3F1E0A PRIMARY KEY (OrderID),
	CONSTRAINT FK__Order__FarmID__251C81ED FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) ON DELETE CASCADE,
	CONSTRAINT FK__Order__PackageID__2610A626 FOREIGN KEY (PackageID) REFERENCES ipas.dbo.Package(PackageID) ON DELETE CASCADE
);


-- ipas.dbo.PackageDetail definition

-- Drop table

-- DROP TABLE ipas.dbo.PackageDetail;

CREATE TABLE ipas.dbo.PackageDetail (
	PackageDetailID int IDENTITY(1,1) NOT NULL,
	PackageDetailCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FeatureName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FeatureDescription nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PackageID int NULL,
	CONSTRAINT PK__PackageD__A7D8258A18A0833B PRIMARY KEY (PackageDetailID),
	CONSTRAINT FK__PackageDe__Packa__2704CA5F FOREIGN KEY (PackageID) REFERENCES ipas.dbo.Package(PackageID) ON DELETE CASCADE
);


-- ipas.dbo.Partner definition

-- Drop table

-- DROP TABLE ipas.dbo.Partner;

CREATE TABLE ipas.dbo.Partner (
	PartnerID int IDENTITY(1,1) NOT NULL,
	PartnerCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PartnerName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Province nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PhoneNumber nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Email nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	[National] nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	--RoleID int NULL,
	IsDeleted bit NULL DEFAULT 0,
	District nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Ward nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Major nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ContactName nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Note nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	BusinessField nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FarmID int NULL,
	CONSTRAINT PK__Partner__39FD6332F826F432 PRIMARY KEY (PartnerID),
	
	CONSTRAINT FK__Partner__Farm FOREIGN KEY (FarmID) REFERENCES ipas.dbo.[Farm](FarmID) ON DELETE CASCADE
);


-- ipas.dbo.Payment definition

-- Drop table

-- DROP TABLE ipas.dbo.Payment;

CREATE TABLE ipas.dbo.Payment (
	PaymentID int IDENTITY(1,1) NOT NULL,
	PaymentCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TransactionID nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	PaymentMethod nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	UpdateDate datetime NULL,
	OrderID int NULL,
	CONSTRAINT PK__Payment__9B556A58F4F846AB PRIMARY KEY (PaymentID),
	CONSTRAINT FK__Payment__OrderID__28ED12D1 FOREIGN KEY (OrderID) REFERENCES ipas.dbo.[Order](OrderID) ON DELETE CASCADE
);


-- ipas.dbo.Plant definition

-- Drop table

-- DROP TABLE ipas.dbo.Plant;

CREATE TABLE ipas.dbo.Plant (
	PlantID int IDENTITY(1,1) NOT NULL,
	PlantCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantName nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantIndex int NULL,
	HealthStatus nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	PlantingDate datetime NULL,
	IsPassed bit NULL,
        IsDead bit NULL DEFAULT 0,
        PassedDate datetime NULL,
	PlantReferenceID int NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeID int NULL,
	ImageURL nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LandRowID int NULL,
	IsDeleted bit NULL DEFAULT 0,
	FarmID int NULL,
	GrowthStageID int NULL,
	CONSTRAINT PK__Plant__98FE46BC7EA4DAD0 PRIMARY KEY (PlantID),
	CONSTRAINT Plant_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID),
	CONSTRAINT Plant_LandRow_FK FOREIGN KEY (LandRowID) REFERENCES ipas.dbo.LandRow(LandRowID),
	CONSTRAINT Plant_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE SET NULL
);


-- ipas.dbo.PlantGrowthHistory definition

-- Drop table

-- DROP TABLE ipas.dbo.PlantGrowthHistory;

CREATE TABLE ipas.dbo.PlantGrowthHistory (
	PlantGrowthHistoryID int IDENTITY(1,1) NOT NULL,
	PlantGrowthHistoryCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	NoteTaker nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	PlantID int NULL,
	IssueName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__PlantGro__8F26DC48C9286D17 PRIMARY KEY (PlantGrowthHistoryID),
	CONSTRAINT FK__PlantNote__Plant__32AB8735 FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE
);


-- ipas.dbo.PlantLot definition

-- Drop table

-- DROP TABLE ipas.dbo.PlantLot;

CREATE TABLE ipas.dbo.PlantLot (
	PlantLotID int IDENTITY(1,1) NOT NULL,
	PlantLotCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantLotName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Unit nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PreviousQuantity int NULL,
	InputQuantity int NULL,
	LastQuantity int NULL,
	UsedQuantity int NULL,
	ImportedDate datetime NULL,
	Note nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PartnerID int NULL,
	PlantLotReferenceID int NULL,
	FarmID int NULL,
	isDeleted bit NULL,
	IsPassed bit DEFAULT 0,
	PassedDate datetime null,
	MasterTypeId int NULL,
	GrowthStageID int NULL,
	-- IsForGrafted bit default 0,
	CONSTRAINT PK__PlantLot__58D457ABDE17F2CF PRIMARY KEY (PlantLotID),
	CONSTRAINT FK_PlantLot_Partner FOREIGN KEY (PartnerID) REFERENCES ipas.dbo.Partner(PartnerID) ON DELETE CASCADE,
	CONSTRAINT PlantLot_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID),
	CONSTRAINT PlantLot_MasterType_FK FOREIGN KEY (MasterTypeId) REFERENCES IPAS.dbo.MasterType(MasterTypeID) ON DELETE SET NULL,
	CONSTRAINT PlantLot_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID)
);


-- ipas.dbo.Process definition

-- Drop table

-- DROP TABLE ipas.dbo.Process;

CREATE TABLE ipas.dbo.Process (
	ProcessID int IDENTITY(1,1) NOT NULL,
	ProcessCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ProcessName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isDefault bit NULL,
	isActive bit NULL DEFAULT 1,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	StartDate datetime NULL,
	EndDate datetime NULL,
	isDeleted bit DEFAULT 0 NULL,
	FarmID int NULL,
	GrowthStageID int NULL,
	[Order] int NULL,
	IsSample bit NULL,
	MasterTypeID int NULL,
	CONSTRAINT PK__Process__1B39A976EDEF5BD5 PRIMARY KEY (ProcessID),
	CONSTRAINT Process_Farm_FK FOREIGN KEY (FarmID) REFERENCES IPAS.dbo.Farm(FarmID),
	CONSTRAINT Process_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES IPAS.dbo.GrowthStage(GrowthStageID),
	CONSTRAINT Process_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES IPAS.dbo.MasterType(MasterTypeID) ON DELETE SET NULL
);


-- ipas.dbo.SubProcess definition

-- Drop table

-- DROP TABLE ipas.dbo.SubProcess;

CREATE TABLE ipas.dbo.SubProcess (
	SubProcessID int IDENTITY(1,1) NOT NULL,
	SubProcessCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	SubProcessName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ParentSubProcessID int NULL,
	isDefault bit NULL,
	isActive bit NULL DEFAULT 1,
        Description nvarchar(MAX) NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	StartDate datetime NULL,
	EndDate datetime NULL,
	isDeleted bit NULL DEFAULT 0,
    [Order] int NULL,
	ProcessID int NULL,
	MasterTypeID int NULL,
	FarmID int NULL,
	CONSTRAINT PK__SubProce__F054A88CD66E5A59 PRIMARY KEY (SubProcessID),
	CONSTRAINT FK__SubProces__Proce__3CF40B7E FOREIGN KEY (ProcessID) REFERENCES ipas.dbo.Process(ProcessID) ON DELETE CASCADE,
	CONSTRAINT SubProcess_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE SET NULL,
	CONSTRAINT SubProcess_SubProcess_FK FOREIGN KEY (ParentSubProcessID) REFERENCES ipas.dbo.SubProcess(SubProcessID)
);

-- ipas.dbo.[User] definition

-- Drop table

-- DROP TABLE ipas.dbo.[User];

CREATE TABLE ipas.dbo.[User] (
	UserID int IDENTITY(1,1) NOT NULL,
	Email nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Password nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FullName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PhoneNumber nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Gender nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	DOB datetime NULL,
	UserCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	IsDelete bit NULL DEFAULT 0,
	DeleteDate datetime NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	IsDependency int NULL,
	RoleID int NULL,
	AvatarURL nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Otp nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ExpiredOtpTime datetime NULL,
	Address nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RemainDays int NULL,
	CONSTRAINT PK__User__1788CCACFB4299F2 PRIMARY KEY (UserID),
	CONSTRAINT FK__User__RoleID__40C49C62 FOREIGN KEY (RoleID) REFERENCES ipas.dbo.[Role](RoleID) ON DELETE CASCADE
);


-- ipas.dbo.UserFarm definition

-- Drop table

-- DROP TABLE ipas.dbo.UserFarm;

CREATE TABLE ipas.dbo.UserFarm (
	UserID int NOT NULL,
	FarmID int NOT NULL,
	RoleId int NULL,
        IsActive bit NULL DEFAULT 1,
	Status nvarchar(50) NULL,
	CONSTRAINT PK__UserFarm__995F77051197DAC5 PRIMARY KEY (UserID,FarmID),
	CONSTRAINT FK__UserFarm__FarmID__41B8C09B FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) ON DELETE CASCADE,
	CONSTRAINT FK__UserFarm__UserID__42ACE4D4 FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT UserFarm_Role_FK FOREIGN KEY (RoleId) REFERENCES ipas.dbo.[Role](RoleID)
);


-- ipas.dbo.ChatRoom definition

-- Drop table

-- DROP TABLE ipas.dbo.ChatRoom;

CREATE TABLE ipas.dbo.ChatRoom (
	RoomID int IDENTITY(1,1) NOT NULL,
	RoomCode nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RoomName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	AIResponseID int NULL,
        FarmID int NULL,
        UserID int NULL,
	CreateBy int NULL,
	CONSTRAINT PK__ChatRoom__32863919A904C9FC PRIMARY KEY (RoomID),
	CONSTRAINT FK__ChatRoom__Create__17C286CF FOREIGN KEY (CreateBy) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE
);


-- ipas.dbo.GraftedPlant definition

-- Drop table

-- DROP TABLE ipas.dbo.GraftedPlant;

CREATE TABLE ipas.dbo.GraftedPlant (
	GraftedPlantID int IDENTITY(1,1) NOT NULL,
	GraftedPlantCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedPlantName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	--GrowthStage nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	SeparatedDate datetime NULL,
	Status nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedDate datetime NULL,
	Note nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MortherPlantID int NULL,
	IsDeleted bit DEFAULT 0 NULL,
	IsCompleted bit NULL,
	PlantLotID int NULL,
    MotherPlantId int NULL,
	FarmID int NULL,
	FinishedPlantCode nvarchar(50) NULL,
	--GrowthStageID int NULL,
	CONSTRAINT PK__GraftedP__883CF82ACBB74009 PRIMARY KEY (GraftedPlantID),
	CONSTRAINT FK__GraftedPl__Plant__531856C7 FOREIGN KEY (MortherPlantID) REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE,
	--CONSTRAINT GraftedPlant_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID),
	CONSTRAINT GraftedPlant_PlantLot_FK FOREIGN KEY (PlantLotID) REFERENCES ipas.dbo.PlantLot(PlantLotID) ON DELETE CASCADE
);


-- ipas.dbo.GraftedPlantNote definition

-- Drop table

-- DROP TABLE ipas.dbo.GraftedPlantNote;

CREATE TABLE ipas.dbo.GraftedPlantNote (
	GraftedPlantNoteID int IDENTITY(1,1) NOT NULL,
	GraftedPlantNoteCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	IssueName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	NoteTaker nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedPlantID int NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CONSTRAINT PK__GraftedP__09DC047162079786 PRIMARY KEY (GraftedPlantNoteID),
	CONSTRAINT FK_GraftedPlantNote_GraftedPlant FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID) ON DELETE CASCADE
);


-- ipas.dbo.ProductHarvestHistory definition

-- Drop table

-- DROP TABLE ipas.dbo.ProductHarvestHistory;

CREATE TABLE ipas.dbo.ProductHarvestHistory (
	ProductHarvestHistoryId int IDENTITY(1,1) NOT NULL,
	MasterTypeID int NOT NULL,
	PlantID int NULL,
	Unit nvarchar(50) NULL,
	SellPrice float NULL,
    CostPrice float NULL,
	QuantityNeed int NULL,
	ActualQuantity int NULL,
	HarvestHistoryID int NOT NULL,
	CONSTRAINT ProductHarvestHistory_PK PRIMARY KEY (ProductHarvestHistoryId),
	CONSTRAINT FK_ProductHarvestHistory_Plant FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE,
	CONSTRAINT FK__HarvestTy__Harve__40058253 FOREIGN KEY (HarvestHistoryID) REFERENCES ipas.dbo.HarvestHistory(HarvestHistoryID) ON DELETE CASCADE,
	CONSTRAINT ProductHarvestHistory_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE CASCADE,
);

CREATE TABLE ipas.dbo.Type_Type (
	MasterTypeID_1 int NOT NULL,
	MasterTypeID_2 int NOT NULL,
	isActive bit NULL DEFAULT 1,
	CONSTRAINT Type_Type_PK PRIMARY KEY (MasterTypeID_1,MasterTypeID_2),
	CONSTRAINT Type_Type_MasterType_FK FOREIGN KEY (MasterTypeID_1) REFERENCES ipas.dbo.MasterType(MasterTypeID),
	CONSTRAINT Type_Type_MasterType_FK_1 FOREIGN KEY (MasterTypeID_2) REFERENCES ipas.dbo.MasterType(MasterTypeID)
);

-- ipas.dbo.Notification definition

-- Drop table

-- DROP TABLE ipas.dbo.Notification;

CREATE TABLE ipas.dbo.Notification (
	NotificationID int IDENTITY(1,1) NOT NULL,
	NotificationCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Title nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Link nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	MasterTypeID int NULL,
	SenderID int NULL,
        IsRead bit NULL,
	CONSTRAINT PK__Notifica__20CF2E32F94B5C5B PRIMARY KEY (NotificationID),
	CONSTRAINT Notification_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE CASCADE,
	CONSTRAINT Notification_User_FK FOREIGN KEY (SenderID) REFERENCES ipas.dbo.[User](UserID)
);


-- IPAS_v2.dbo.[Plan] definition

-- Drop table

-- DROP TABLE IPAS_v2.dbo.[Plan];

CREATE TABLE ipas.dbo.[Plan] (
	PlanID int IDENTITY(1,1) NOT NULL,
	Status nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlanCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	StartDate datetime NULL,
	EndDate datetime NULL,
	UpdateDate datetime NULL,
	isActive bit NULL DEFAULT 1,
	Notes nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlanDetail nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ResponsibleBy nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Frequency nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlanName nvarchar(200) COLLATE Vietnamese_CI_AS NULL,
	AssignorID int NULL,
	PesticideName nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MaxVolume float NULL,
	MinVolume float NULL,
	ProcessID int NULL,
	CropID int NULL,
	IsDelete bit DEFAULT 0 NULL,
	MasterTypeID int NULL,
	SubProcessID int NULL,
	FarmID int NULL,
	CONSTRAINT PK__Plan__755C22D7C27C8EF5 PRIMARY KEY (PlanID),
	CONSTRAINT FK_Plan_Crop FOREIGN KEY (CropID) REFERENCES IPAS.dbo.Crop(CropID),
	CONSTRAINT FK_Plan_Process FOREIGN KEY (ProcessID) REFERENCES IPAS.dbo.Process(ProcessID) ON DELETE CASCADE,
	CONSTRAINT Plan_Farm_FK FOREIGN KEY (FarmID) REFERENCES IPAS.dbo.Farm(FarmID),
	CONSTRAINT Plan_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES IPAS.dbo.MasterType(MasterTypeID) ON DELETE SET NULL,
	CONSTRAINT Plan_SubProcess_FK FOREIGN KEY (SubProcessID) REFERENCES IPAS.dbo.SubProcess(SubProcessID)
);

-- ipas.dbo.RefreshToken definition

-- Drop table

-- DROP TABLE ipas.dbo.RefreshToken;

CREATE TABLE ipas.dbo.RefreshToken (
	RefreshTokenID int IDENTITY(1,1) NOT NULL,
	RefreshTokenCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RefreshTokenValue nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	ExpiredDate datetime NULL,
	IsUsed bit NULL,
	IsRevoked bit NULL,
	UserID int NULL,
	CONSTRAINT PK__RefreshT__F5845E59CBB4AB2D PRIMARY KEY (RefreshTokenID),
	CONSTRAINT FK__RefreshTo__UserI__3BFFE745 FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE
);

CREATE TABLE ipas.dbo.PlanNotification (
	PlanNotificationID int IDENTITY(0,1) NOT NULL,
	PlanID int NULL,
	NotificationID int NULL,
	UserID int NULL,
	isRead bit NULL,
	CreateDate datetime NULL,
	CONSTRAINT PlanNotification_PK PRIMARY KEY (PlanNotificationID),
	CONSTRAINT PlanNotification_User_FK FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID),
	CONSTRAINT PlanNotification_Plan_FK FOREIGN KEY (PlanID) REFERENCES ipas.dbo.[Plan](PlanID),
	CONSTRAINT PlanNotification_Notification_FK FOREIGN KEY (NotificationID) REFERENCES ipas.dbo.Notification(NotificationID)
);

-- ipas.dbo.CarePlanSchedule definition

-- Drop table

-- DROP TABLE ipas.dbo.CarePlanSchedule;

CREATE TABLE ipas.dbo.CarePlanSchedule (
	ScheduleID int IDENTITY(1,1) NOT NULL,
	DayOfWeek nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(100) NULL,
	StartTime time(7) NULL,
	EndTime time(7) NULL,
	CarePlanID int NULL,
	DayOfMonth nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CustomDates nvarchar(MAX) NULL,
	FarmID int NULL,
	HarvestHistoryID int NULL,
	CONSTRAINT PK__CarePlan__9C8A5B694338D9F1 PRIMARY KEY (ScheduleID),
	CONSTRAINT CarePlanSchedule_Farm_FK FOREIGN KEY (FarmID) REFERENCES IPAS.dbo.Farm(FarmID),
	CONSTRAINT CarePlanSchedule_HarvestHistory_FK FOREIGN KEY (HarvestHistoryID) REFERENCES IPAS.dbo.HarvestHistory(HarvestHistoryID),
	CONSTRAINT FK__CarePlanS__CareP__2180FB33 FOREIGN KEY (CarePlanID) REFERENCES IPAS.dbo.[Plan](PlanID) ON DELETE CASCADE
);


-- ipas.dbo.ChatMessage definition

-- Drop table

-- DROP TABLE ipas.dbo.ChatMessage;

CREATE TABLE ipas.dbo.ChatMessage (
	MessageID int IDENTITY(1,1) NOT NULL,
	MessageCode nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MessageContent nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	SenderID int NULL,
	IsUser bit NULL,
	MessageType nvarchar(1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RoomID int NULL,
	CONSTRAINT PK__ChatMess__C87C037C2C4F831C PRIMARY KEY (MessageID),
	CONSTRAINT FK__ChatMessa__RoomI__16CE6296 FOREIGN KEY (RoomID) REFERENCES ipas.dbo.ChatRoom(RoomID) ON DELETE CASCADE
);

-- ipas.dbo.CriteriaTarget definition

-- Drop table

-- DROP TABLE ipas.dbo.CriteriaTarget;

CREATE TABLE ipas.dbo.CriteriaTarget (
	CriteriaTargetID int IDENTITY(1,1) NOT NULL,
	IsChecked bit NULL,
	Priority int NULL,
	PlantID int NULL,
	CriteriaID int NULL,
	GraftedPlantID int NULL,
	PlantLotID int NULL,
        CreateDate datetime NULL,
	CheckedDate datetime NULL,
        IsPassed bit NULL,
	Note nvarchar(MAX) NULL,
        CONSTRAINT CriteriaTarget_PK PRIMARY KEY (CriteriaTargetID),
	CONSTRAINT CriteriaTarget_Criteria_FK FOREIGN KEY (CriteriaID) REFERENCES ipas.dbo.Criteria(CriteriaID),
	CONSTRAINT CriteriaTarget_GraftedPlant_FK FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID),
        CONSTRAINT CriteriaTarget_PlantLot_FK FOREIGN KEY (PlantLotID) REFERENCES ipas.dbo.PlantLot(PlantLotID),
	CONSTRAINT CriteriaTarget_Plant_FK FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID)
);
-- ipas.dbo.WorkLog definition

-- Drop table

-- DROP TABLE ipas.dbo.WorkLog;

CREATE TABLE ipas.dbo.WorkLog (
	WorkLogID int IDENTITY(1,1) NOT NULL,
	WorkLogCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
    WorkLogName nvarchar(300) NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Date] datetime NULL,
	IsConfirm bit NULL,
        ActualStartTime time(7) NULL,
	ActualEndTime time(7) NULL,
	ScheduleID int NULL,
	WarningID int NULL,
	ReasonDelay nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__WorkLog__FE542DC2BB0A0EA4 PRIMARY KEY (WorkLogID),
	CONSTRAINT FK__WorkLog__Schedul__236943A5 FOREIGN KEY (ScheduleID) REFERENCES ipas.dbo.CarePlanSchedule(ScheduleID) ON DELETE CASCADE,
	CONSTRAINT WorkLog_Warning_FK FOREIGN KEY (WarningID) REFERENCES ipas.dbo.Warning(WarningID)
);


-- ipas.dbo.Resource definition

-- Drop table

-- DROP TABLE ipas.dbo.Resource;




-- ipas.dbo.TaskFeedback definition

-- Drop table

-- DROP TABLE ipas.dbo.TaskFeedback;

CREATE TABLE ipas.dbo.TaskFeedback (
	TaskFeedbackID int IDENTITY(1,1) NOT NULL,
	TaskFeedbackCode nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
   	WorkLogID int NULL,
	ManagerID int NULL,
	CONSTRAINT PK__TaskFeed__9CC94E1953C81F4C PRIMARY KEY (TaskFeedbackID),
	CONSTRAINT FK__TaskFeedb__Manag__3EDC53F0 FOREIGN KEY (ManagerID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT FK__TaskFeedb__WorkL__339FAB6E FOREIGN KEY (WorkLogID) REFERENCES ipas.dbo.WorkLog(WorkLogID) ON DELETE CASCADE
);


-- ipas.dbo.UserWorkLog definition

-- Drop table

-- DROP TABLE ipas.dbo.UserWorkLog;

CREATE TABLE ipas.dbo.UserWorkLog (
   UserWorkLogID int IDENTITY(1,1) NOT NULL,
	WorkLogID int NOT NULL,
	UserID int NOT NULL,
	IsReporter bit NULL,
        CreateDate datetime NULL,
        Notes nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
        Issue nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__UserWork__2F2CA1082A09A834 PRIMARY KEY (UserWorkLogID),
	CONSTRAINT FK__UserWorkL__UserI__43A1090D FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT FK__UserWorkL__WorkL__25518C17 FOREIGN KEY (WorkLogID) REFERENCES ipas.dbo.WorkLog(WorkLogID) ON DELETE CASCADE
);

CREATE TABLE ipas.dbo.Resource (
	ResourceID int IDENTITY(1,1) NOT NULL,
	ResourceCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ResourceURL nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	ResourceType nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FileFormat nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	UserWorkLogID int NULL,
        UserID int NULL,
	PlantGrowthHistoryID int NULL,
	LegalDocumentID int NULL,
	GraftedPlantNoteID int NULL,
	CONSTRAINT Resource_PK PRIMARY KEY (ResourceID),
	CONSTRAINT Resource_GraftedPlantNote_FK FOREIGN KEY (GraftedPlantNoteID) REFERENCES ipas.dbo.GraftedPlantNote(GraftedPlantNoteID),
	CONSTRAINT Resource_LegalDocument_FK FOREIGN KEY (LegalDocumentID) REFERENCES ipas.dbo.LegalDocument(LegalDocumentID),
	CONSTRAINT Resource_PlantGrowthHistory_FK FOREIGN KEY (PlantGrowthHistoryID) REFERENCES ipas.dbo.PlantGrowthHistory(PlantGrowthHistoryID),
	CONSTRAINT Resource_UserWorkLog_FK FOREIGN KEY (UserWorkLogID) REFERENCES ipas.dbo.UserWorkLog(UserWorkLogID)
);

CREATE TABLE ipas.dbo.PlanTarget (
	PlanTargetID int IDENTITY(1,1) NOT NULL,
	PlanID int NULL,
	LandRowID int NULL,
	LandPlotID int NULL,
	GraftedPlantID int NULL,
	PlantLotID int NULL,
	PlantID int NULL,
        Unit nvarchar(255) NULL,
	CONSTRAINT PlanTarget_PK PRIMARY KEY (PlanTargetID),
	CONSTRAINT PlanTarget_Plan_FK FOREIGN KEY (PlanID) REFERENCES ipas.dbo.[Plan](PlanID),
	CONSTRAINT PlanTarget_LandRow_FK FOREIGN KEY (LandRowID) REFERENCES ipas.dbo.LandRow(LandRowID),
	CONSTRAINT PlanTarget_LandPlot_FK FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID),
	CONSTRAINT PlanTarget_GraftedPlant_FK FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID),
	CONSTRAINT PlanTarget_PlantLot_FK FOREIGN KEY (PlantLotID) REFERENCES ipas.dbo.PlantLot(PlantLotID),
	CONSTRAINT PlanTarget_Plant_FK FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID)
);

CREATE TABLE ipas.dbo.GrowthStagePlan (
	GrowthStagePlanID int IDENTITY(1,1) NOT NULL,
	GrowthStageID int NULL,
	PlanID int NULL,
	CONSTRAINT GrowthStagePlan_PK PRIMARY KEY (GrowthStagePlanID),
	CONSTRAINT GrowthStagePlan_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID),
	CONSTRAINT GrowthStagePlan_Plan_FK FOREIGN KEY (PlanID) REFERENCES ipas.dbo.[Plan](PlanID)
);

CREATE TABLE ipas.dbo.GrowthStageMasterType (
	GrowthStageMasterTypeID int IDENTITY(1,1) NOT NULL,
	GrowthStageID int NULL,
	MasterTypeID int NULL,
	FarmID int NULL,
	CONSTRAINT GrowthStageMasterType_PK PRIMARY KEY (GrowthStageMasterTypeID),
	CONSTRAINT GrowthStageMasterType_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID),
	CONSTRAINT GrowthStageMasterType_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID),
	CONSTRAINT GrowthStageMasterType_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID)
);

CREATE TABLE ipas.dbo.Report (
	ReportID int IDENTITY(1,1) NOT NULL,
	ReportCode nvarchar(300) NULL,
	Description nvarchar(MAX) NULL,
	CreateDate datetime NULL,
        ImageURL nvarchar(MAX),
	IsTrainned bit NULL,
	AnswererID int NULL,
	QuestionerID int NULL,
	CONSTRAINT Report_PK PRIMARY KEY (ReportID),
	CONSTRAINT Report_User_FK FOREIGN KEY (AnswererID) REFERENCES ipas.dbo.[User](UserID),
	CONSTRAINT Report_User_FK_1 FOREIGN KEY (QuestionerID) REFERENCES ipas.dbo.[User](UserID)
);

GO

INSERT INTO [ipas].[dbo].[Farm] 
([FarmCode], [FarmName], [Address], [Longitude], [Latitude], [LogoURL], [Ward], [Province], [District], [Area], [SoilType], [ClimateZone], [CreateDate], [UpdateDate], [IsDeleted], [Status], [Length], [Width], [Description])
VALUES
('F001', 'Nam Hue Tan Trieu Pomelo', N'133/17 Hương Lộ 9', 106.786528, 10.9965,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Tân Bình', N'Đồng Nai', N'Vĩnh Cửu', 100.5, 'Clay', 'Tropical', GETDATE(), GETDATE(), 0, 'Active', 200, 150, 'Farm specializing in tropical fruits'),

('F002', 'Farm B', N'456 Blue Avenue', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg',
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F003', 'Farm C', N'789 Binh Duong', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F004', 'Farm D', N'910 Dong Nai', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F005', 'Farm E', N'911 Long An', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F006', 'Farm F', N'159 Can Gio', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F007', 'Farm G', N'567 Tien Giang', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F008', 'Farm H', N'789 Kien Giang', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 3', N'Province Z', N'District 3', 150.0, 'Sandy', 'Arid', GETDATE(), GETDATE(), 0, 'Inactive', 400, 350, 'Farm for livestock breeding');

GO

GO
INSERT INTO [ipas].[dbo].[Role] ([RoleName], [isSystem])
VALUES
('Admin', 1),
('User', 2),
('Owner', 3),
('Manager', 4),
('Employee', 5);
GO
INSERT INTO [ipas].[dbo].[User] ([Email], [Password], [FullName], [PhoneNumber], [Gender], [DOB], [UserCode], [CreateDate], [UpdateDate], [IsDelete], [Status], [IsDependency], [AvatarURL], [Otp], [ExpiredOtpTime], [RoleID])
VALUES
('thetamthd@gmail.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'John Doe', '0123456789', 'Male', '1990-05-10', 'U001', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755465/ppgzlr8a9fdf5kxbo3uv.png', NULL, NULL, 1),
('tambtse171869@fpt.edu.vn', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Jane Smith', '0987654321', 'Female', '1985-08-15', 'U002', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755465/ppgzlr8a9fdf5kxbo3uv.png', NULL, NULL, 2),
('abcfarm@gmail.com', '$2a$11$qi491eunYFCQeO..SFS.Iethgoa5BFyMgH5ugmS8Drv54uqZ5QpnC', 'Alex Johnson', '0912345678', 'Male', '1992-12-20', 'U003', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738903142/user/avatar/tgfbqvv5f3jmuc220rhy.webp', NULL, NULL, 2),
('user4@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'The Tam', '0912345678', 'Female', '1992-12-20', 'U003', GETDATE(), GETDATE(), 0, 'Inactive', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755512/gkk4m8onahfl8dacc4qf.png', NULL, NULL, 2),
('user5@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Phuoc Tan', '0912345678', 'Female', '1992-12-20', 'U003', GETDATE(), GETDATE(), 0, 'Inactive', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755512/gkk4m8onahfl8dacc4qf.png', NULL, NULL, 2),
('giao@gmail.com', '$2a$11$VJHyrhGtfFJkbp5OGhMvZOz4s9d.X3RWaqKveqqXrUVgW7fqF0EVC', 'Ai Giao', '0911222333', 'Female', '1995-06-25', 'E006', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755628/hikdhs0nnj9l6zkqbjje.jpg', NULL, NULL, 2),
('employee2@example.com', '$2a$11$VJHyrhGtfFJkbp5OGhMvZOz4s9d.X3RWaqKveqqXrUVgW7fqF0EVC', 'Bob Williams', '0922333444', 'Male', '1998-09-12', 'E007', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755628/hikdhs0nnj9l6zkqbjje.jpg', NULL, NULL, 2),
('employee3@example.com', '$2a$11$VJHyrhGtfFJkbp5OGhMvZOz4s9d.X3RWaqKveqqXrUVgW7fqF0EVC', 'Charlie Davis', '0933444555', 'Male', '1993-11-30', 'E008', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755864/pw8jyieauzsacwbae9gg.png', NULL, NULL, 2),
('employee4@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Daisy Evans', '0944555666', 'Female', '1997-07-18', 'E009', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755864/pw8jyieauzsacwbae9gg.png', NULL, NULL, 2),
('employee5@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Ethan Wilson', '0955666777', 'Male', '1994-04-22', 'E010', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755864/pw8jyieauzsacwbae9gg.png', NULL, NULL, 2),
('employee6@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Frank Miller', '0966778899', 'Male', '1996-03-15', 'E011', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755628/hikdhs0nnj9l6zkqbjje.jpg', NULL, NULL, 2),
('employee7@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Grace Lee', '0977889900', 'Female', '1999-01-21', 'E012', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755628/hikdhs0nnj9l6zkqbjje.jpg', NULL, NULL, 2),
('employee8@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Henry White', '0988990011', 'Male', '1991-09-05', 'E013', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755512/gkk4m8onahfl8dacc4qf.png', NULL, NULL, 2),
('employee9@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Isabella Scott', '0999001122', 'Female', '1993-06-12', 'E014', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755465/ppgzlr8a9fdf5kxbo3uv.png', NULL, NULL, 2),
('employee10@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Jack Carter', '0900112233', 'Male', '1990-12-08', 'E015', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755465/ppgzlr8a9fdf5kxbo3uv.png', NULL, NULL, 2),
-- Quản lý mới
('manager1@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Olivia Martinez', '0911223344', 'Female', '1987-05-30', 'M001', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755864/pw8jyieauzsacwbae9gg.png', NULL, NULL, 2),
('manager2@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Daniel Brown', '0922334455', 'Male', '1985-10-18', 'M002', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1741755628/hikdhs0nnj9l6zkqbjje.jpg', NULL, NULL, 2),
-- User not in farm
('user1@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Liam Anderson', '0933111222', 'Male', '1992-02-14', 'U006', GETDATE(), GETDATE(), 0, 'Active', NULL, NULL, NULL, NULL, 2),
('user2@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Sophia Hernandez', '0944222333', 'Female', '1995-07-25', 'U007', GETDATE(), GETDATE(), 0, 'Active', NULL, NULL, NULL, NULL, 2),
('user3@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Mason Wilson', '0955333444', 'Male', '1989-11-10', 'U008', GETDATE(), GETDATE(), 0, 'Active', NULL, NULL, NULL, NULL, 2),
('user4@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Isla Thomas', '0966444555', 'Female', '1993-09-30', 'U009', GETDATE(), GETDATE(), 0, 'Active', NULL, NULL, NULL, NULL, 2),
('user5@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Noah Martinez', '0977555666', 'Male', '1990-06-05', 'U010', GETDATE(), GETDATE(), 0, 'Active', NULL, NULL, NULL, NULL, 2);
;
GO
INSERT INTO [ipas].[dbo].[UserFarm] ([FarmID], [UserID], [RoleId])
VALUES 
(1,3,3),
(2,3,4),
(3,3,5),
(4,3,5),
(1, 6, 5), 
(1, 7, 5), 
(1, 8, 5), 
(1, 9, 5),
(1, 10, 5),
(1, 11, 5), 
(1, 12, 5), 
(1, 13, 5), 
(1, 14, 5), 
(1, 15, 5), 
(1, 16, 4), -- Olivia Martinez (Manager)
(1, 17, 4); -- Daniel Brown (Manager)
GO
-- Fake data for GrowthStage table with FarmID = 1
INSERT INTO ipas.dbo.GrowthStage (GrowthStageCode, GrowthStageName, MonthAgeStart, MonthAgeEnd, isDefault, FarmID, isDeleted, CreateDate, ActiveFunction, Description)
VALUES
('GS101', 'Germination Stage', 0, 3, 0, 1, 0, GETDATE(), NULL, 'Seed begins to sprout and establish roots'),
('GS102', 'Seedling Stage', 4, 8, 0, 1, 0, GETDATE(), NULL, 'Young plant starts growing leaves and roots'),
('GS103', 'Vegetative Growth Stage', 9, 18, 0, 1, 0, GETDATE(), NULL, 'Tree develops canopy and root system'),
('GS104', 'Flowering Stage', 19, 24, 0, 1, 0, GETDATE(), 'Harvest', 'Tree reaches maturity and starts flowering'),
('GS105', 'Fruiting & Harvest Stage', 25, 36, 0, 1, 0, GETDATE(), 'Grafted,Harvest', 'Fruits mature and are ready for harvest');
GO

-- Fake data for GrowthStage table with FarmID = 2
INSERT INTO ipas.dbo.GrowthStage (GrowthStageCode, GrowthStageName, MonthAgeStart, MonthAgeEnd, isDefault, FarmID, isDeleted, CreateDate, ActiveFunction, Description)
VALUES
('GS201', 'Germination Stage', 0, 3, 0, 2, 0, GETDATE(), '', 'Seed starts sprouting and developing initial roots'),
('GS202', 'Seedling Stage', 4, 9, 0, 2, 0, GETDATE(), '', 'Early stage of leaf and root development'),
('GS203', 'Vegetative Growth Stage', 10, 20, 0, 2, 0, GETDATE(), '', 'Tree strengthens its structure and expands canopy'),
('GS204', 'Flowering Stage', 21, 27, 0, 2, 0, GETDATE(), 'Harvest', 'Tree reaches maturity and begins to flower'),
('GS205', 'Fruiting & Harvest Stage', 28, 40, 0, 2, 0, GETDATE(), 'Grafted,Harvest', 'Fruits develop and ripen for harvesting');

GO
INSERT INTO [ipas].[dbo].[MasterType] 
    ([MasterTypeCode], [MasterTypeName], [TypeName], [MasterTypeDescription], [BackgroundColor], [TextColor], [Characteristic], [isDelete], [isActive], [CreateDate], [IsDefault], [FarmID], [IsConflict], [Target])
VALUES
      ('MT001', 'Certificate', 'Document', 'Official certificate related to agricultural activities', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT002', 'License', 'Document', 'Official license for agricultural operations or practices', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT003', 'Permit', 'Document', 'Official permit for specific agricultural activities or harvests', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT004', 'Contract', 'Document', 'Legal contract related to agricultural agreements or sales', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT005', 'Invoice', 'Document', 'Invoice for transactions or sales of agricultural products', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT006', 'Report', 'Document', 'Reports related to agricultural performance, harvest or crop monitoring', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT007', 'Regulation', 'Document', 'Regulations governing agricultural practices and standards', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT008', 'Other', 'Document', 'Any other relevant agricultural documentation', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    
    ('MT009', 'Green Skin Pomelo', 'Cultivar', 'Green Skin Pomelo cultivar', NULL, NULL, 'Green skin, Sweet taste', 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT010', N'5 Roi Pomelo', 'Cultivar', '5 Roi Pomelo cultivar', NULL, NULL, 'Sweet, Refreshing', 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT011', N'Vien Pomelo', 'Cultivar', 'Viễn Pomelo cultivar', NULL, NULL, 'Tart, Firm', 0, 1, GETDATE(), 0, 1, NULL, NULL),
    
    ('MT012', 'Cultivation', 'Process', 'General cultivation practices for pomelo trees', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT013', 'Harvesting', 'Process', 'Methods for collecting ripe pomelos', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT014', 'Grafting', 'Process', 'Grafting techniques for tree propagation', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    
    ('MT015', 'Watering', 'Work', 'Process of providing water to plants', '#10B981', '#047857', NULL, 0, 1, GETDATE(), 0, 1, 0, 'Watering'),
    ('MT016', 'Fertilizing', 'Work', 'Application of nutrients to enhance plant growth', '#D9E5DC', '#4A9C5D', NULL, 0, 1, GETDATE(), 0, 1, 1, 'Fertilizer'),
    ('MT017', 'Pruning', 'Work', 'Trimming and shaping plants for better growth', '#E3D7B9', '#8D5B3D', NULL, 0, 1, GETDATE(), 0, 1, 0, 'Pruning-Shaping'),
    ('MT018', 'Pest Control', 'Work', 'Managing and eliminating harmful pests', '#FFE5D9', '#F79C42', NULL, 0, 1, GETDATE(), 0, 1, 0, 'Pest Control'),
    ('MT019', 'Harvesting', 'Work', 'Collecting mature crops for use or sale', '#F2F2F2', '#4A4A4A', NULL, 0, 1, GETDATE(), 0, 1, 0, 'Others'),
    
    ('MT020', 'Seedling', 'Criteria', 'Defines the criteria for selecting seedlings', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Grafted Evaluation'),
    ('MT021', 'Caring', 'Criteria', 'Defines the criteria for plant care during growth stages', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Grafted Evaluation'),
    ('MT022', 'Grafting', 'Criteria', 'Describes the grafting process for fruit trees', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Grafted Condition'),
    ('MT023', 'Harvesting', 'Criteria', 'Describes the harvesting process for fruit trees', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Harvest'),
	('MT024', 'Green Skin Pomelo Lot Quality', 'Criteria', 'Evaluates the overall quality of Green Skin Pomelo lots', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Plantlot Condition'),
    ('MT025', 'Nam Roi Pomelo Lot Quality', 'Criteria', 'Evaluates the overall quality of Nam Roi Pomelo lots', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Plantlot Condition'),
	('MT026', 'Green Skin Pomelo Evaluation', 'Criteria', 'Detailed evaluation of Green Skin Pomelo growth and health', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Plantlot Evaluation'),
    ('MT027', 'Nam Roi Pomelo Evaluation', 'Criteria', 'Detailed evaluation of Nam Roi Pomelo growth and health', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Plantlot Evaluation'),
	('MT028', 'Green Skin Pomelo Lot Health', 'Criteria', 'Evaluates the overall health and growth conditions of the Green Skin Pomelo lot', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Plantlot Condition'),
	('MT029', 'Green Skin Pomelo Lot Yield Assessment', 'Criteria', 'Estimates the expected yield and fruit quality of the Green Skin Pomelo lot', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, 'Plantlot Evaluation'),

    ('MT030', 'Grade 1', 'Product', 'First-grade pomelo after harvest', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT031', 'Grade 2', 'Product', 'Second-grade pomelo after harvest', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT032', 'Grade 3', 'Product', 'Third-grade pomelo after harvest', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT033', 'Leaves', 'Product', 'Pomelo tree leaves harvested for use', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    ('MT034', 'Branches', 'Product', 'Pomelo tree branches harvested for use', NULL, NULL, NULL, 0, 1, GETDATE(), 0, 1, NULL, NULL),
    
    ('MT035', 'Weather', 'Notification', 'Notification related to weather conditions affecting pomelo tree growth', NULL, NULL, NULL, 0, 1, GETDATE(), 1, null, NULL, NULL),
    ('MT036', 'Task Assignment', 'Notification', 'Notification related to work activities in pomelo tree care', NULL, NULL, NULL, 0, 1, GETDATE(), 1, null, NULL, NULL),
    ('MT037', 'Task Change', 'Notification', 'Notification related to work activities in pomelo tree care', NULL, NULL, NULL, 0, 1, GETDATE(), 1, null, NULL, NULL),
    ('MT038', 'Task Confirmation', 'Notification', 'Notification related to work activities in pomelo tree care', NULL, NULL, NULL, 0, 1, GETDATE(), 1, null, NULL, NULL),
    ('MT039', 'Task Reminder', 'Notification', 'Notification related to work activities in pomelo tree care', NULL, NULL, NULL, 0, 1, GETDATE(), 1, null, NULL, NULL);

GO

GO
INSERT INTO [dbo].[Criteria]
    ([CriteriaCode], [CriteriaName], [CriteriaDescription], [Priority], [isActive], [isDeleted],[MasterTypeID])
VALUES
    ('CR001', 'Quality Standard', 'Ensures high product quality', 1, 1, 0, 20),
    ('CR002', 'Customer Satisfaction', 'Measures customer happiness', 2, 1, 1, 20),
    ('CR003', 'On-Time Delivery', 'Tracks timely order fulfillment', 3, 1, 0, 20),
    ('CR004', 'Return Policy', 'Defines product return conditions', 1, 1, 1, 21),
    ('CR005', 'Payment Security', 'Ensures safe payment processing', 2, 1, 0, 21),
    ('CR006', 'Product Warranty', 'Guarantees product durability', 3, 1, 1, 21),
    ('CR007', 'Loyalty Program', 'Rewards frequent customers', 1, 1, 0, 22),
    ('CR008', 'Tax Compliance', 'Adheres to taxation policies', 2, 1, 1, 22),
    ('CR009', 'Support Response Time', 'Tracks customer service efficiency', 3, 1, 0, 22),
    ('CR010', 'Shipping Cost Efficiency', 'Optimizes delivery expenses', 4, 1, 1, 22),
	('CR011', 'Tree Density', 'Ensures optimal tree spacing (400-500 trees per hectare)', 1, 1, 0, 24),
    ('CR012', 'Tree Height >= 2m', 'Ensures tree height is at least 2 meters (Measured from base to highest point)', 2, 1, 1, 24),
    ('CR013', 'Fruit Size', 'Measures average fruit size (Weight: 1.2kg - 2.5kg, Diameter: 15-22 cm)', 3, 1, 0, 24),
    ('CR014', 'Pest Control Effectiveness', 'Ensures minimal pest damage (Less than 5% affected fruits per lot)', 4, 1, 1, 24),
    ('CR015', 'Soil Moisture Level', 'Checks if soil moisture is within optimal range (50-70% field capacity)', 5, 1, 0, 24),
	('CR016', 'Leaf Color & Health', 'Leaves must be dark green, with no signs of yellowing or disease spots', 1, 1, 0, 26),
    ('CR017', 'Flowering & Pollination Success Rate', 'At least 80% of flowers must successfully set fruit', 2, 1, 1, 26),
    ('CR018', 'Soil pH Level', 'Soil pH must be between 5.5 - 6.5 for optimal growth', 3, 1, 0, 26),
    ('CR019', 'Fruit Sugar Content (Brix Level)', 'Pomelo sweetness must be between 10 - 13% Brix', 4, 1, 1, 26),
    ('CR020', 'Disease Resistance Score', 'Assessment of resistance to Greening Disease (HLB)', 5, 1, 0, 26),
	('C029', 'Pest & Disease Inspection', 'Check for common pests and diseases affecting Green Skin Pomelo', 1, 1, 0, 28),
    ('C030', 'Soil & Nutrient Condition', 'Assess soil fertility and nutrient levels for optimal growth', 2, 1, 0, 28),
    ('C031', 'Canopy & Root Development', 'Evaluate the development of canopy structure and root health', 3, 1, 0, 28),
	('C032', 'Fruit Count & Size', 'Estimate the number of fruits and average size per tree', 1, 1, 0, 29),
    ('C033', 'Sugar & Acid Balance', 'Analyze the sugar-acid balance to determine fruit sweetness', 2, 1, 0, 29),
    ('C034', 'External Quality & Appearance', 'Check fruit skin texture, color, and any physical defects', 3, 1, 0, 29);
GO

INSERT INTO ipas.dbo.LandPlot (
    LandPlotCode, LandPlotName, Area, [Length], Width, RowperLine, RowSpacing, SoilType, 
    CreateDate, UpdateDate, Status, Description, FarmID, isDeleted, IsRowHorizontal, 
    LineSpacing, NumberOfRows, TargetMarket
) 
VALUES 
    ('LP001', 'Plot A', 500.5, 50, 10, 5, 1.5, 'Loamy', '2024-01-01', '2024-02-01', 'Active', 'Good for vegetables', 1, 0, 1, 2.0, 25, 'Local Market'),
    ('LP002', 'Plot B', 300.2, 30, 10, 4, 1.2, 'Sandy', '2024-01-05', '2024-02-10', 'Active', 'Best for root crops', 1, 0, 0, 1.8, 20, 'Export'),
    ('LP003', 'Plot C', 450.0, 45, 10, 6, 1.7, 'Clay', '2024-02-01', '2024-02-15', 'Inactive', 'Under maintenance', 1, 1, 1, 2.2, 30, 'Local Market'),
    ('LP004', 'Plot D', 600.8, 60, 10, 5, 1.5, 'Loamy', '2024-02-05', '2024-02-20', 'Active', 'High yield potential', 2, 0, 1, 2.0, 28, 'Organic Stores'),
    ('LP005', 'Plot E', 350.5, 35, 10, 4, 1.3, 'Silty', '2024-01-20', '2024-02-18', 'Active', 'Best for grains', 1, 0, 0, 1.9, 22, 'Wholesale'),
    ('LP006', 'Plot F', 280.3, 28, 10, 3, 1.1, 'Peaty', '2024-02-10', '2024-02-25', 'Inactive', 'Too wet for now', 2, 1, 0, 1.5, 18, 'Local Market'),
    ('LP007', 'Plot G', 550.7, 55, 10, 5, 1.6, 'Chalky', '2024-01-15', '2024-02-22', 'Active', 'Ideal for legumes', 1, 0, 1, 2.1, 27, 'Export'),
    ('LP008', 'Plot H', 320.4, 32, 10, 4, 1.4, 'Loamy', '2024-02-12', '2024-02-26', 'Active', 'Good for fruits', 2, 0, 1, 1.8, 24, 'Local Market');

GO

INSERT INTO ipas.dbo.LandPlotCoordination (LandPlotCoordinationCode, Longitude, Latitude, LandPlotID)  
VALUES  
    ('LPC-001', 106.78546314117068, 10.997278708395825, 1),  
    ('LPC-002', 106.78589533924475, 10.997556840012322, 1),  
    ('LPC-003', 106.78592699828585, 10.99751539287513, 1),  
    ('LPC-004', 106.78547296403684, 10.997232090171735, 1),  
    ('LPC-005', 106.78546314117068, 10.997278708395825, 1), 
 
    ('LPC-006', 106.7855136114656, 10.997171331485006, 2),  
    ('LPC-007', 106.78596437055711, 10.997462428171985, 2),  
    ('LPC-008', 106.78593105040267, 10.997509293796838, 2),  
    ('LPC-009', 106.78547802086456, 10.997225685284874, 2),  
    ('LPC-010', 106.7855136114656, 10.997171331485006, 2);
GO

INSERT INTO [ipas].dbo.LandRow 
( LandRowCode, RowIndex, TreeAmount, Distance, [Length], Width, Direction, CreateDate, UpdateDate, Status, Description, LandPlotID) 
VALUES
( 'LR001', 1, 50, 2.5, 30.0, 5.0, 'North', '2024-01-01', '2024-01-05', 'Active', 'Row for tomatoes', 1),
( 'LR002', 2, 40, 2.0, 25.0, 4.5, 'South', '2024-01-02', '2024-01-06', 'Active', 'Row for lettuce', 1),
( 'LR003', 3, 60, 3.0, 35.0, 6.0, 'East', '2024-01-03', '2024-01-07', 'Inactive', 'Row for carrots', 1),
( 'LR004', 4, 30, 1.8, 20.0, 4.0, 'West', '2024-01-04', '2024-01-08', 'Active', 'Row for cabbage', 2),
( 'LR005', 5, 70, 2.7, 40.0, 6.5, 'North', '2024-01-05', '2024-01-09', 'Active', 'Row for strawberries', 2),
( 'LR006', 6, 80, 3.2, 45.0, 7.0, 'South', '2024-01-06', '2024-01-10', 'Inactive', 'Row for spinach', 2),
( 'LR007', 7, 55, 2.2, 32.0, 5.5, 'East', '2024-01-07', '2024-01-11', 'Active', 'Row for peppers', 2),
( 'LR008', 8, 90, 3.5, 50.0, 7.5, 'West', '2024-01-08', '2024-01-12', 'Active', 'Row for pumpkins', 2),
( 'LR009', 9, 65, 2.9, 38.0, 6.8, 'North', '2024-01-09', '2024-01-13', 'Inactive', 'Row for potatoes', 1),
( 'LR010', 10, 75, 3.1, 42.0, 7.2, 'South', '2024-01-10', '2024-01-14', 'Active', 'Row for onions', 1);


INSERT INTO [ipas].dbo.Plant 
(PlantCode, PlantName, PlantIndex, HealthStatus, CreateDate, UpdateDate, PlantingDate, PlantReferenceID, Description, MasterTypeID, ImageURL, LandRowID, GrowthStageID, FarmID) 
VALUES
-- 5 cây có PlantIndex và LandRowID
('P001', 'Green Skin Pomelo A', 1, 'Healthy', '2024-02-01', '2024-02-05', '2024-01-25', NULL, 'Green Skin Pomelo - Type A', 9, 'https://example.com/pomeloA.jpg', 1, 1, 1),
('P002', 'Green Skin Pomelo B', 2, 'Moderate', '2024-02-02', '2024-02-06', '2024-01-20', NULL, 'Green Skin Pomelo - Type B', 9, 'https://example.com/pomeloB.jpg', 1, 2, 1),
('P003', 'Green Skin Pomelo C', 3, 'Healthy', '2024-02-03', '2024-02-07', '2024-01-18', NULL, 'Green Skin Pomelo - Type C', 9, 'https://example.com/pomeloC.jpg', 1, 3, 1),
('P004', 'Green Skin Pomelo D', 4, 'Unhealthy', '2024-02-04', '2024-02-08', '2024-01-15', NULL, 'Green Skin Pomelo - Type D', 9, 'https://example.com/pomeloD.jpg', 1, 4, 1),
('P005', 'Green Skin Pomelo E', 5, 'Healthy', '2024-02-05', '2024-02-09', '2024-01-10', NULL, 'Green Skin Pomelo - Type E', 9, 'https://example.com/pomeloE.jpg', 1, 5, 1),

-- 5 cây có PlantIndex và LandRowID NULL
('P006', 'Green Skin Pomelo F', NULL, 'Moderate', '2024-02-06', '2024-02-10', '2024-01-08', NULL, 'Green Skin Pomelo - Type F', 9, 'https://example.com/pomeloF.jpg', NULL, 1, 1),
('P007', 'Green Skin Pomelo G', NULL, 'Healthy', '2024-02-07', '2024-02-11', '2024-01-05', NULL, 'Green Skin Pomelo - Type G', 9, 'https://example.com/pomeloG.jpg', NULL, 1, 1),
('P008', 'Green Skin Pomelo H', NULL, 'Unhealthy', '2024-02-08', '2024-02-12', '2024-01-02', NULL, 'Green Skin Pomelo - Type H', 9, 'https://example.com/pomeloH.jpg', NULL, 2, 1),
('P009', 'Green Skin Pomelo I', NULL, 'Moderate', '2024-02-09', '2024-02-13', '2023-12-28', NULL, 'Green Skin Pomelo - Type I', 9, 'https://example.com/pomeloI.jpg', NULL, 3, 1),
('P010', 'Green Skin Pomelo J', NULL, 'Healthy', '2024-02-10', '2024-02-14', '2023-12-25', NULL, 'Green Skin Pomelo - Type J', 9, 'https://example.com/pomeloJ.jpg', NULL, 4, 1);


GO
-- Chèn dữ liệu vào bảng LegalDocument
INSERT INTO [ipas].dbo.LegalDocument (LegalDocumentCode, LegalDocumentType, LegalDocumentName, LegalDocumentURL, IssueDate, ExpiredDate, Status, CreateAt, UpdateAt, FarmID)
VALUES
('LD-001', 'License', 'Organic Farming Certificate', 'https://example.com/doc1.pdf', '2023-01-10', '2025-01-10', 'Active', GETDATE(), GETDATE(), 1),
('LD-002', 'Permit', 'Water Usage Permit', 'https://example.com/doc2.pdf', '2022-06-15', '2024-06-15', 'Active', GETDATE(), GETDATE(), 1),
('LD-003', 'Registration', 'Land Registration Document', 'https://example.com/doc3.pdf', '2021-05-20', '2031-05-20', 'Active', GETDATE(), GETDATE(), 2),
('LD-004', 'Certificate', 'ISO 9001 Certification', 'https://example.com/doc4.pdf', '2020-09-12', '2025-09-12', 'Expired', GETDATE(), GETDATE(), 1),
('LD-005', 'Agreement', 'Supplier Contract', 'https://example.com/doc5.pdf', '2023-02-01', '2026-02-01', 'Active', GETDATE(), GETDATE(), 2);
GO
-- Chèn dữ liệu vào bảng Resource với liên kết đến LegalDocument
INSERT INTO [ipas].dbo.Resource (ResourceCode, ResourceURL, Description, CreateDate, UpdateDate, ResourceType, FileFormat, UserWorkLogID, PlantGrowthHistoryID, LegalDocumentID, GraftedPlantNoteID)
VALUES
('RES-001', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010443/farm/legal-document/lhhd96qnxjcbxcgh6yvy.jpg', 'Organic Farming Guidelines', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 1, NULL),
('RES-002', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010451/farm/legal-document/wt9wa7j9gvigriusqxzk.jpg', 'Water Usage Regulations', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 1, NULL),
('RES-003', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010457/farm/legal-document/rhdtcktzwkbqzhe4njcc.jpg', 'Land Ownership Data', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 1, NULL),
('RES-004', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010609/iy0c6zxgjkdx7ocmvmih.jpg', 'ISO 9001 Audit Report', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 2, NULL),
('RES-005', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010644/lfcr5rsg6rnm1y2a7euc.jpg', 'Supplier Agreement Presentation', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 2, NULL);
GO
-- Insert fake data into Crop
INSERT INTO [ipas].dbo.Crop (CropCode, CropName,StartDate, EndDate ,CreateDate, UpdateDate, CropExpectedTime, /*Year,*/ CropActualTime, HarvestSeason, EstimateYield, ActualYield, IsDeleted, Status, Notes, MarketPrice, FarmID)
VALUES 
(N'CRP001', N'Rice', '2024-10-10', '2025-06-15', '2023-01-10', '2023-06-15', '2023-05-01', /*2023,*/ '2023-06-10', N'Spring', 5000, 4800, 0, N'Active', N'High yield', 1200, 1),
(N'CRP002', N'Corn', '2024-10-10', '2025-06-15','2023-02-05', '2023-07-20', '2023-06-10', /*2023,*/ '2023-07-25', N'Summer', 3000, 2900, 0, N'Active', N'Good season', 800, 1),
(N'CRP003', N'Wheat', '2024-10-10', '2025-06-15','2023-03-12', '2023-08-10', '2023-07-15', /*2023,*/ '2023-08-20', N'Autumn', 4000, 3900, 0, N'Active', N'Quality harvest', 1000, 2),
(N'CRP004', N'Barley', '2024-10-10', '2025-06-15','2023-04-18', '2023-09-30', '2023-09-01', /*2023,*/ '2023-10-10', N'Winter', 2500, 2400, 0, N'Inactive', N'Needs better soil', 900, 2),
(N'CRP005', N'Soybean','2024-10-10', '2025-06-15', '2023-05-20', '2023-11-15', '2023-10-10', /*2023,*/ '2023-11-20', N'Spring', 3200, 3100, 0, N'Active', N'Great market demand', 1100, 3),
(N'CRP006', N'Peanut', '2024-10-10', '2025-06-15','2023-06-25', '2023-12-10', '2023-11-01', /*2023,*/ '2023-12-15', N'Summer', 2700, 2600, 0, N'Active', N'Organic crop', 1050, 3),
(N'CRP007', N'Potato', '2024-10-10', '2025-06-15','2023-07-30', '2024-01-05', '2023-12-20',/* 2024,*/ '2024-01-10', N'Winter', 3500, 3400, 0, N'Inactive', N'Requires more nutrients', 1150, 4),
(N'CRP008', N'Carrot', '2024-10-10', '2025-06-15','2023-08-15', '2024-02-10', '2024-01-10', /*2024,*/ '2024-02-15', N'Autumn', 2800, 2750, 0, N'Active', N'Excellent growth rate', 950, 4);
GO
-- Insert fake data into LandPlotCrop (Mapping crops to land plots)
INSERT INTO [ipas].dbo.LandPlotCrop (LandPlotID, CropID)
VALUES 
(1, 1),
(1, 2),
(2, 3),
(2, 4),
(3, 5),
(3, 6),
(4, 7),
(4, 8);
GO
INSERT INTO [ipas].dbo.HarvestHistory 
    (HarvestHistoryCode, DateHarvest, HarvestHistoryNote, TotalPrice, HarvestStatus, CropID)
VALUES 
    ('HH001', '2024-01-10', 'First harvest of the year', 15000.0, 'Completed', 1),
    ('HH002', '2024-02-15', 'Spring harvest', 25000.0, 'Completed', 1),
    ('HH003', '2024-03-20', 'Rainy season harvest', 18000.5, 'Pending', 1),
    ('HH004', '2024-04-05', 'Harvest delayed due to weather', 21000.0, 'In Progress', 2),
    ('HH005', '2024-05-12', 'Testing new harvesting method', 32000.0, 'Completed', 2),
    ('HH006', '2024-06-25', 'Summer harvest', 27000.8, 'Completed', 3),
    ('HH007', '2024-07-30', 'Low yield this season', 15000.0, 'Pending', 3),
    ('HH008', '2024-08-22', 'Excellent harvest', 40000.0, 'Completed', 4),
    ('HH009', '2024-09-10', 'Stored for future sale', 36000.5, 'Completed', 4),
    ('HH010', '2024-10-15', 'Final harvest before winter', 22000.0, 'Pending', 5);
GO
INSERT INTO [ipas].dbo.ProductHarvestHistory (MasterTypeID, PlantID, Unit, SellPrice, QuantityNeed, HarvestHistoryID)
VALUES 
    (30, NULL, 10, 5000.5, 100, 1),
    (31, NULL, 5, 7500.0, 50, 1),
    (32, NULL, 8, 6200.3, 80, 1),
    (33, 4, 12, 8800.0, 120, 2),
    (30, 5, 7, 4300.7, 70, 2),
    (31, 6, 6, 6700.2, 60, 2),
    (32, 7, 9, 9100.4, 90, 2),
    (30, 8, 4, 3000.9, 40, 3),
    (31, 9, 11, 5000.0, 110, 3),
    (32, 10, 3, 2500.5, 30, 3);
GO
INSERT INTO [ipas].dbo.Process 
(ProcessCode, ProcessName, isDefault, isActive, CreateDate, UpdateDate, isDeleted, GrowthStageID, MasterTypeID, IsSample, FarmID)  
VALUES
(N'P006', N'Làm đất', 1, 1, '2024-02-06', NULL, 0, 1, 1, 1, 1),
(N'P007', N'Phun thuốc trừ sâu', 0, 1, '2024-02-07', '2024-02-15', 0, 2, 1, 1, 2),
(N'P008', N'Cắt tỉa', 1, 1, '2024-02-08', NULL, 0, 3, 2, 1, 1),
(N'P009', N'Đo độ ẩm đất', 0, 1, '2024-02-09', '2024-02-16', 0, 2, NULL, 1, 3),
(N'P010', N'Bảo quản sau thu hoạch', 0, 1, '2024-02-10', NULL, 0, NULL, 3, 1, 2),
(N'P011', N'Gieo hạt giống mới', 1, 1, '2024-02-11', '2024-02-18', 0, 1, 1,1, 3),
(N'P012', N'Tưới nhỏ giọt', 0, 1, '2024-02-12', NULL, 0, 2, 1, 1, 1),
(N'P013', N'Bón phân hữu cơ', 1, 1, '2024-02-13', '2024-02-20', 0, 3, 2, 1, 2),
(N'P014', N'Thu hoạch sớm', 0, 1, '2024-02-14', NULL, 0, NULL, 3, 1, 3),
(N'P015', N'Đánh giá năng suất', 0, 1, '2024-02-15', '2024-02-22', 0, 2, 15, 1, 1);
INSERT INTO ipas.dbo.Package (PackageCode, PackageName, PackagePrice, Duration, isActive, CreateDate, UpdateDate, Status)
VALUES
('PKG101', 'Basic', 29.00, 30, 1, GETDATE(), NULL, 'Active'),
('PKG102', 'Pro', 89.00, 365, 1, GETDATE(), NULL, 'Active'),
('PKG103', 'Enterprise', 100.00, 1095, 1, GETDATE(), NULL, 'Active');
GO

INSERT INTO ipas.dbo.PackageDetail (PackageDetailCode, FeatureName, FeatureDescription, PackageID)
VALUES
('PKD101', 'Farm Plot Management', 'Manage different farm plots with ease.', 1),
('PKD102', 'Crop Monitoring', 'Monitor the health and status of crops.', 1),
('PKD103', 'Task Management', 'Organize and assign farm tasks.', 1),
('PKD104', 'Real-time AI Advice', 'Receive AI-driven suggestions for farming.', 1),
('PKD105', 'Multi-platform Access', 'Access your farm data from any device.', 1),

('PKD106', 'Farm Plot Management', 'Manage different farm plots with ease.', 2),
('PKD107', 'Crop Monitoring', 'Monitor the health and status of crops.', 2),
('PKD108', 'Task Management', 'Organize and assign farm tasks.', 2),
('PKD109', 'Real-time AI Advice', 'Receive AI-driven suggestions for farming.', 2),
('PKD110', 'Multi-platform Access', 'Access your farm data from any device.', 2),

('PKD111', 'Farm Plot Management', 'Manage different farm plots with ease.', 3),
('PKD112', 'Crop Monitoring', 'Monitor the health and status of crops.', 3),
('PKD113', 'Task Management', 'Organize and assign farm tasks.', 3),
('PKD114', 'Real-time AI Advice', 'Receive AI-driven suggestions for farming.', 3),
('PKD115', 'Multi-platform Access', 'Access your farm data from any device.', 3);
GO

INSERT INTO ipas.dbo.[Order] (OrderCode, OrderName, TotalPrice, Notes, OrderDate, EnrolledDate, ExpiredDate, PackageID, FarmID)
VALUES
('ORD001', 'Order for Basic Package', 99.99, 'First order', GETDATE(), GETDATE(), DATEADD(DAY, 30, GETDATE()), 1, 1),
('ORD002', 'Order for Standard Package', 199.99, 'Second order', GETDATE(), GETDATE(), DATEADD(DAY, 60, GETDATE()), 2, 1),
('ORD003', 'Order for Premium Package', 299.99, 'Third order', GETDATE(), GETDATE(), DATEADD(DAY, 90, GETDATE()), 3, 1),
('ORD004', 'Order for Enterprise Package', 499.99, 'Fourth order', GETDATE(), GETDATE(), DATEADD(DAY, 180, GETDATE()), 1, 2),
('ORD005', 'Order for Trial Package', 0, 'Trial order', GETDATE(), GETDATE(), DATEADD(DAY, 7, GETDATE()), 2, 2),
('ORD006', 'Order for VIP Package', 999.99, 'VIP order', GETDATE(), GETDATE(), DATEADD(DAY, 365, GETDATE()), 3, 2),
('ORD007', 'Order for Gold Package', 599.99, 'Gold order', GETDATE(), GETDATE(), DATEADD(DAY, 120, GETDATE()), 1, 2),
('ORD008', 'Order for Silver Package', 399.99, 'Silver order', GETDATE(), GETDATE(), DATEADD(DAY, 90, GETDATE()), 2, 3),
('ORD009', 'Order for Bronze Package', 199.99, 'Bronze order', GETDATE(), GETDATE(), DATEADD(DAY, 60, GETDATE()), 3, 3),
('ORD010', 'Order for Custom Package', 0, 'Custom order', GETDATE(), GETDATE(), NULL, 1, 3);
GO
INSERT INTO ipas.dbo.Partner (PartnerCode, PartnerName, Province, PhoneNumber, Email, CreateDate, UpdateDate, [National],  District, Ward, Description, Major, Status, ContactName, Note, BusinessField, FarmID)
VALUES 
('P001', 'Partner One', 'Hanoi', '0123456789', 'partner1@example.com', GETDATE(), NULL, 'Vietnam',  'Ba Dinh', 'Kim Ma', 'Leading partner in agriculture', 'Provider', 'Active', 'Nguyen Van A', 'Trusted partner', 'Farming', 1),
('P002', 'Partner Two', 'Ho Chi Minh', '0987654321', 'partner2@example.com', GETDATE(), NULL, 'Vietnam',  'District 1', 'Ben Nghe', 'Supplier of organic products', 'Provider', 'Active', 'Tran Thi B', 'Expanding market', 'Retail', 1),
('P003', 'Partner Three', 'Da Nang', '0345678901', 'partner3@example.com', GETDATE(), NULL, 'Vietnam', 'Hai Chau', 'Phuoc Ninh', 'Exporter of fresh fruits', 'Provider', 'Inactive', 'Le Van C', 'Looking for investors', 'Export', 1),
('P004', 'Partner Four', 'Can Tho', '0789456123', 'partner4@example.com', GETDATE(), NULL, 'Vietnam',  'Ninh Kieu', 'An Hoa', 'Specialist in high-tech farming', 'Provider', 'Active', 'Pham Van D', 'Innovative farming techniques', 'Technology', 1),
('P005', 'Partner Five', 'Hai Phong', '0567894321', 'partner5@example.com', GETDATE(), NULL, 'Vietnam',  'Le Chan', 'Niem Nghia', 'Distributor of farming equipment', 'Provider', 'Pending', 'Hoang Thi E', 'Partnering with local farmers', 'Machinery', 1),
('P006', 'Partner One', 'Hanoi', '0123456789', 'partner1@example.com', GETDATE(), NULL, 'Vietnam',  'Ba Dinh', 'Kim Ma', 'Leading partner in agriculture', 'Provider', 'Active', 'Nguyen Van A', 'Trusted partner', 'Farming', 1),
('P007', 'Partner Two', 'Ho Chi Minh', '0987654321', 'partner2@example.com', GETDATE(), NULL, 'Vietnam',  'District 1', 'Ben Nghe', 'Supplier of organic products', 'Customer', 'Active', 'Tran Thi B', 'Expanding market', 'Retail', 1),
('P008', 'Partner Three', 'Da Nang', '0345678901', 'partner3@example.com', GETDATE(), NULL, 'Vietnam',  'Hai Chau', 'Phuoc Ninh', 'Exporter of fresh fruits', 'Customer', 'Inactive', 'Le Van C', 'Looking for investors', 'Export', 1),
('P009', 'Partner Four', 'Can Tho', '0789456123', 'partner4@example.com', GETDATE(), NULL, 'Vietnam',  'Ninh Kieu', 'An Hoa', 'Specialist in high-tech farming', 'Customer', 'Active', 'Pham Van D', 'Innovative farming techniques', 'Technology', 1),
('P010', 'Partner Five', 'Hai Phong', '0567894321', 'partner5@example.com', GETDATE(), NULL, 'Vietnam',  'Le Chan', 'Niem Nghia', 'Distributor of farming equipment', 'Customer', 'Pending', 'Hoang Thi E', 'Partnering with local farmers', 'Machinery', 1);
GO
INSERT INTO ipas.dbo.PlantLot 
(PlantLotCode, PlantLotName, PreviousQuantity, InputQuantity, LastQuantity, UsedQuantity, Unit, Status, ImportedDate, Note, PartnerID, PlantLotReferenceID, FarmID, isDeleted, MasterTypeId, IsPassed) 
VALUES
-- Lô cha
('PL001', 'Plant Lot A', 100, 80, 70, 70, 'Plant', 'Active', '2024-06-01', 'Good condition', 1, NULL, 1, 0, 9, 1),
('PL002', 'Plant Lot B', 200, 180, 150, 150, 'Plant', 'Active', '2024-06-05', 'Stored in warehouse', 1, NULL, 1, 0, 9, 1),
('PL003', 'Plant Lot C', 150, 130, 120, 120, 'Plant', 'Active', '2024-06-10', 'Requires monitoring', 1, NULL, 1, 0, 9, 1),

-- Lô con (bổ sung số lượng thiếu, đã kiểm tra và sử dụng hết)
('PL004', 'Plant Lot A - Extra', 30, 30, 30, 30, 'Plant', 'Active', '2024-06-02', 'Additional for PL001', 1, 1, 1, 0, 9, 1),
('PL005', 'Plant Lot B - Extra', 50, 50, 50, 50, 'Plant', 'Active', '2024-06-06', 'Additional for PL002', 1, 2, 1, 0, 9, 1),
('PL006', 'Plant Lot C - Extra', 30, 30, 30, 30, 'Plant', 'Active', '2024-06-11', 'Additional for PL003', 1, 3, 1, 0, 9, 1);
GO
INSERT INTO ipas.dbo.GraftedPlant 
(GraftedPlantCode, GraftedPlantName, SeparatedDate, Status, GraftedDate, Note, PlantID, IsDeleted,isCompleted ,PlantLotID, FarmID) 
VALUES
('GP001', 'Grafted Plant A', '2024-01-15', 'Healthy', '2024-01-10', 'Good condition', 1, 0 ,0 , 3, 1),
('GP002', 'Grafted Plant B', '2024-02-10', 'Growing', '2024-02-01', 'Needs monitoring', 2, 0, 0 ,3, 1),
('GP003', 'Grafted Plant C',  '2024-03-05', 'Healthy', '2024-02-25', 'Strong growth', 3, 0, 0 ,3, 1),
('GP004', 'Grafted Plant D',  '2024-04-20', 'Weak', '2024-04-10', 'Requires extra care', 4, 0, 0 ,3, 1),
('GP005', 'Grafted Plant E',  '2024-05-12', 'Healthy', '2024-05-01', 'Excellent condition', 5, 0,0 , 3, 1),
('GP006', 'Grafted Plant F',  '2024-06-10', 'Healthy', '2024-06-01', 'Stable condition', 6, 0, 0 ,3, 1),
('GP007', 'Grafted Plant G',  '2024-07-15', 'Growing', '2024-07-05', 'Showing good progress', 7, 0 ,0, 3, 1),
('GP008', 'Grafted Plant H',  '2024-08-20', 'Weak', '2024-08-10', 'Needs more nutrients', 8, 0, 0 ,3, 1),
('GP009', 'Grafted Plant I',  '2024-09-10', 'Healthy', '2024-09-01', 'No issues', 9, 0, 0 ,3, 2),
('GP010', 'Grafted Plant J',  '2024-10-05', 'Dying', '2024-09-25', 'Urgent care required', 10, 0,0 , 3, 2),
('GP011', 'Grafted Plant K',  '2024-11-12', 'Growing', '2024-11-01', 'Needs more light', 1, 0,0 , 3, 2),
('GP012', 'Grafted Plant L', '2024-12-08', 'Healthy', '2024-12-01', 'Great potential', 2, 0, 0 ,3, 2),
('GP013', 'Grafted Plant M', '2025-01-15', 'Weak', '2025-01-05', 'Prone to pests', 3, 0, 0 ,3, 2),
('GP014', 'Grafted Plant N', '2025-02-20', 'Healthy', '2025-02-10', 'Strong and steady', 4, 0, 0 ,3, 2),
('GP015', 'Grafted Plant O',  '2025-03-10', 'Dying', '2025-03-01', 'Requires urgent intervention', 5, 0, 0 ,3, 2);
GO
INSERT INTO [dbo].[Plan] 
    ([Status], [PlanCode], [CreateDate], [StartDate], [EndDate], [UpdateDate], [isActive], [Notes], [PlanDetail], 
     [ResponsibleBy], [Frequency], [PlanName], [AssignorID], [PesticideName], [MaxVolume], [MinVolume], [ProcessID], 
     [CropID], [IsDelete], [MasterTypeID], [SubProcessID], [FarmID])
VALUES
    ('Active', 'PLN001', GETDATE(), '2025-04-01', '2025-04-01', GETDATE(), 1, 'Plan for pesticide spraying', 'Detail 1', 
     'JohnDoe', NULL, 'Spraying Plan', 101, 'Pesticide A', 5.0, 2.0, 1, NULL, 0, 10, NULL, 1),
    ('Pending', 'PLN002', GETDATE(), '2025-05-01', '2025-05-01', GETDATE(), 1, 'Soil preparation', 'Detail 2', 
     'JaneSmith', NULL, 'Soil Prep Plan', 102, NULL, NULL, NULL, 2, NULL, 0, 11, NULL, 1),
    ('Completed', 'PLN003', GETDATE(), '2025-06-01', '2025-06-20', GETDATE(), 0, 'Harvesting completed', 'Detail 3', 
     'AlexBrown', NULL, 'Harvest Plan', 103, NULL, NULL, NULL, 3, NULL, 1, 12, NULL, 1),
    ('Active', 'PLN004', GETDATE(), '2025-07-01', '2025-07-12', GETDATE(), 1, 'Irrigation management', 'Detail 4', 
     'ChrisWhite', NULL, 'Irrigation Plan', 104, NULL, NULL, NULL, 4, NULL, 0, 13, NULL, 1),
    ('Pending', 'PLN005', GETDATE(), '2025-08-01', '2025-08-25', GETDATE(), 1, 'Fertilizer application', 'Detail 5', 
     'EmilyGreen', NULL, 'Fertilization Plan', 105, 'Fertilizer X', 3.5, 1.5, 5, NULL, 0, 14, NULL, 1),
    ('Completed', 'PLN006', GETDATE(), '2025-09-01', '2025-09-15', GETDATE(), 0, 'Weed control applied', 'Detail 6', 
     'MichaelBlack', NULL, 'Weed Control Plan', 106, 'Herbicide Y', 4.0, 1.0, 6, NULL, 1, 15, NULL, 1),
    ('Active', 'PLN007', GETDATE(), '2025-10-01', '2025-10-20', GETDATE(), 1, 'Pest management', 'Detail 7', 
     'SarahBlue', NULL, 'Pest Control Plan', 107, 'Pesticide B', 6.0, 2.5, 7, NULL, 0, 16, NULL, 1),
    ('Pending', 'PLN008', GETDATE(), '2025-11-01', '2025-11-30', GETDATE(), 1, 'New planting season', 'Detail 8', 
     'DavidYellow', NULL, 'Planting Plan', 108, NULL, NULL, NULL, 8, NULL, 0, 17, NULL, 1),
    ('Completed', 'PLN009', GETDATE(), '2025-12-01', '2025-12-10', GETDATE(), 0, 'Post-harvest processing', 'Detail 9', 
     'EmmaPurple', NULL, 'Processing Plan', 109, NULL, NULL, NULL, 9, NULL, 1, 18, NULL, 1),
    ('Active', 'PLN010', GETDATE(), '2026-01-01', '2026-01-15', GETDATE(), 1, 'Greenhouse maintenance', 'Detail 10', 
     'DanielOrange', NULL, 'Maintenance Plan', 110, NULL, NULL, NULL, 10, NULL, 0, 19, NULL, 1);
GO
INSERT INTO [dbo].[CarePlanSchedule]
           ([DayOfWeek]
           ,[Status]
           ,[StartTime]
           ,[EndTime]
           ,[CarePlanID]
           ,[DayOfMonth]
           ,[CustomDates]
           ,[FarmID]
           ,[HarvestHistoryID])
     VALUES
           (NULL, 'Active', '08:00:00', '10:00:00', 1, NULL, '["2025/04/01"]', 1, NULL),
           (NULL, 'Pending', '09:30:00', '11:30:00', 2, NULL, '["2025/05/01"]', 1, NULL),
           (NULL, 'Completed', '07:00:00', '09:00:00', 3, NULL, '["2025/06/01"]', 1, NULL),
           (NULL, 'Active', '10:00:00', '12:00:00', 4, NULL, '["2025/07/01"]', 1, NULL),
           (NULL, 'Cancelled', '06:30:00', '08:30:00', 5, NULL, '["2025/08/01"]', 1, NULL),
           (NULL, 'Pending', '11:00:00', '13:00:00', 6, NULL, '["2025/09/01"]', 1, NULL),
           (NULL, 'Completed', '14:00:00', '16:00:00', 7, NULL, '["2025/10/01"]', 1, NULL),
           (NULL, 'Active', '05:00:00', '07:00:00', 8, NULL, '["2025/11/01"]', 1, NULL),
           (NULL, 'Pending', '13:00:00', '15:00:00', 9, NULL, '["2025/12/01"]', 1, NULL),
           (NULL, 'Completed', '15:30:00', '17:30:00', 10, NULL, '["2025/06/12"]', 1, NULL);
GO
INSERT INTO [dbo].[PlanTarget]
           ([PlanID]
           ,[LandRowID]
           ,[LandPlotID]
           ,[GraftedPlantID]
           ,[PlantLotID]
           ,[PlantID]
           ,[Unit])
     VALUES
           (1, 2, 1, 4, 1, 6, 'Plant'),
           (2, 3, 2, 5, 1, 7, 'Land Plot'),
           (3, 4, 1, 6, 2, 8, 'Row'),
           (4, 5, 1, 7, 1, 9, 'Land Plot'),
           (5, 6, 2, 8, 2, 10, 'Land Plot'),
           (6, 7, 2, 9, 1, 1, 'Land Plot'),
           (7, 8, 2, 10, 1, 2, 'Land Plot'),
           (8, 9, 1, 1, 2, 3, 'Row'),
           (9, 10, 1, 2, 1, 4, 'Plant'),
           (10, 1, 2, 3, 2, 5, 'Row');
GO
INSERT INTO [dbo].[GrowthStageMasterType] ([GrowthStageID], [MasterTypeID], [FarmID])
VALUES 
    (1, 15, 1),
    (1, 16, 1),
    (1, 18, 1),
    (3, 15, 1),
    (3, 16, 1),
    (3, 17, 1),
    (3, 18, 1),
    (3, 19, 1),
    (2, 15, 1),
    (2, 16, 1),
    (2, 18, 1),
    (4, 15, 1),
    (4, 16, 1),
    (4, 17, 1),
    (4, 18, 1),
    (4, 19, 1),
    (5, 19, 1);
Go
