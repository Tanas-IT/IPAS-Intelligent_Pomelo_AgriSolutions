Use [master]
GO
DROP DATABASE [IPAS]
GO
CREATE DATABASE [IPAS]
GO
USE [IPAS]
GO

CREATE TABLE ipas.dbo.Crop (
	CropID int IDENTITY(1,1) NOT NULL,
	CropCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CropName nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	StartDate datetime NULL,
	EndDate datetime NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CropExpectedTime datetime NULL,
	Year int NULL,
	CropActualTime datetime NULL,
	HarvestSeason nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	EstimateYield float NULL,
	ActualYield float NULL,
	IsDeleted bit NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Notes nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MarketPrice float NULL,
	FarmID int NULL,
	CONSTRAINT PK__Crop__923561351B1EF0E2 PRIMARY KEY (CropID)
);





-- ipas.dbo.Farm definition

-- Drop table

-- DROP TABLE ipas.dbo.Farm;

CREATE TABLE ipas.dbo.Farm (
	FarmID int IDENTITY(1,1) NOT NULL,
	FarmCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FarmName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Address nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LogoURL nvarchar(500) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Area float NULL,
	SoilType nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ClimateZone nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	IsDeleted bit NULL,
	Longitude float NULL,
	Latitude float NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Length] float NULL,
	Width float NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	District nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Ward nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Province nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
		CONSTRAINT PK__Farm__ED7BBA991346855A PRIMARY KEY (FarmID)
);


-- ipas.dbo.GrowthStage definition

-- Drop table

-- DROP TABLE ipas.dbo.GrowthStage;

CREATE TABLE ipas.dbo.GrowthStage (
	GrowthStageID int IDENTITY(1,1) NOT NULL,
	GrowthStageCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GrowthStageName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MonthAgeStart datetime NULL,
	MonthAgeEnd datetime NULL,
	CONSTRAINT PK__GrowthSt__B81FB6A5CB51E95C PRIMARY KEY (GrowthStageID)
);


-- ipas.dbo.MasterType definition

-- Drop table

-- DROP TABLE ipas.dbo.MasterType;

CREATE TABLE ipas.dbo.MasterType (
	MasterTypeID int IDENTITY(1,1) NOT NULL,
	MasterTypeCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeDescription nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isActive bit NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CreateBy nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TypeName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isDelete bit NULL,
	CONSTRAINT MasterType_PK PRIMARY KEY (MasterTypeID)
);


-- ipas.dbo.Package definition

-- Drop table

-- DROP TABLE ipas.dbo.Package;

CREATE TABLE ipas.dbo.Package (
	PackageID int IDENTITY(1,1) NOT NULL,
	PackageCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PackageName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PackagePrice float NULL,
	Duration float NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__Package__322035EC04B44A12 PRIMARY KEY (PackageID)
);


-- ipas.dbo.[Role] definition

-- Drop table

-- DROP TABLE ipas.dbo.[Role];

CREATE TABLE ipas.dbo.[Role] (
	RoleID int IDENTITY(1,1) NOT NULL,
	RoleName nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isSystem bit NULL,
	CONSTRAINT PK__Role__8AFACE3A5BC7203D PRIMARY KEY (RoleID)
);


-- ipas.dbo.Warning definition

-- Drop table

-- DROP TABLE ipas.dbo.Warning;

CREATE TABLE ipas.dbo.Warning (
	WarningID int NOT NULL,
	WarningCode nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	WarningName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Level] nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
        AffectedStage nvarchar(MAX) NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CONSTRAINT Warning_PK PRIMARY KEY (WarningID)
);


-- ipas.dbo.Criteria definition

-- Drop table

-- DROP TABLE ipas.dbo.Criteria;

CREATE TABLE ipas.dbo.Criteria (
	CriteriaID int IDENTITY(1,1) NOT NULL,
	CriteriaCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CriteriaName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CriteriaDescription nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Priority int NULL,
	isActive bit NULL,
	isChecked bit NULL,
	CONSTRAINT PK__Criteria__FE6ADB2D5F0540FD PRIMARY KEY (CriteriaID)
);


-- ipas.dbo.CriteriaHarvestType definition

-- Drop table

-- DROP TABLE ipas.dbo.CriteriaHarvestType;

CREATE TABLE ipas.dbo.CriteriaHarvestType (
	CriteriaID int NOT NULL,
	MasterTypeID int NOT NULL,
	isChecked bit NULL,
	CONSTRAINT PK__Criteria__30A6B59B7AC7D5D7 PRIMARY KEY (CriteriaID,MasterTypeID),
	CONSTRAINT CriteriaHarvestType_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE CASCADE,
	CONSTRAINT FK_CriteriaHarvestType_Criteria FOREIGN KEY (CriteriaID) REFERENCES ipas.dbo.Criteria(CriteriaID) ON DELETE CASCADE
);


-- ipas.dbo.FarmCoordination definition

-- Drop table

-- DROP TABLE ipas.dbo.FarmCoordination;

-- CREATE TABLE ipas.dbo.FarmCoordination (
--	FarmCoordinationID int IDENTITY(1,1) NOT NULL,
--	FarmCoordinationCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
--	Longitude float NULL,
--	Lagtitude float NULL,
--	FarmID int NULL,
--	CONSTRAINT PK__FarmCoor__6BD490F93070DFBF PRIMARY KEY (FarmCoordinationID),
--	CONSTRAINT FK__FarmCoord__FarmI__18B6AB08 FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) --ON DELETE CASCADE
--);


-- ipas.dbo.HarvestHistory definition

-- Drop table

-- DROP TABLE ipas.dbo.HarvestHistory;

CREATE TABLE ipas.dbo.HarvestHistory (
	HarvestHistoryID int IDENTITY(1,1) NOT NULL,
	HarvestHistoryCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	DateHarvest datetime NULL,
	HarvestHistoryNote nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TotalPrice float NULL,
	HarvestStatus nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CropID int NULL,
	CONSTRAINT PK__HarvestH__F15734AD189BFCA2 PRIMARY KEY (HarvestHistoryID),
	CONSTRAINT HarvestHistory_Crop_FK FOREIGN KEY (CropID) REFERENCES ipas.dbo.Crop(CropID) ON DELETE SET NULL
);


-- ipas.dbo.LandPlot definition

-- Drop table

-- DROP TABLE ipas.dbo.LandPlot;

CREATE TABLE ipas.dbo.LandPlot (
	LandPlotID int IDENTITY(1,1) NOT NULL,
	LandPlotCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LandPlotName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Area float NULL,
	[Length] float NULL,
	Width float NULL,
	SoilType nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FarmID int NULL,
	TargetMarket nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__LandPlot__ADDF712A976DFB93 PRIMARY KEY (LandPlotID),
	CONSTRAINT FK__LandPlot__FarmID__2739D489 FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) ON DELETE CASCADE
);


-- ipas.dbo.LandPlotCoordination definition

-- Drop table

-- DROP TABLE ipas.dbo.LandPlotCoordination;

CREATE TABLE ipas.dbo.LandPlotCoordination (
	LandPlotCoordinationID int IDENTITY(1,1) NOT NULL,
	LandPlotCoordinationCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Longitude float NULL,
	Lagtitude float NULL,
	LandPlotID int NULL,
	CONSTRAINT PK__LandPlot__AA254567BAC71490 PRIMARY KEY (LandPlotCoordinationID),
	CONSTRAINT FK__LandPlotC__LandP__31B762FC FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE
);


-- ipas.dbo.LandPlotCrop definition

-- Drop table

-- DROP TABLE ipas.dbo.LandPlotCrop;

CREATE TABLE ipas.dbo.LandPlotCrop (
	LandPlotID int NOT NULL,
	CropID int NOT NULL,
	CONSTRAINT PK__LandPlot__E4FC273995B901F0 PRIMARY KEY (LandPlotID,CropID),
	CONSTRAINT LandPlotCrop_Crop_FK FOREIGN KEY (CropID) REFERENCES ipas.dbo.Crop(CropID) ON DELETE CASCADE,
	CONSTRAINT LandPlotCrop_LandPlot_FK FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE
);


-- ipas.dbo.LandRow definition

-- Drop table

-- DROP TABLE ipas.dbo.LandRow;

CREATE TABLE ipas.dbo.LandRow (
	LandRowID int IDENTITY(1,1) NOT NULL,
	LandRowCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RowIndex int NULL,
	TreeAmount int NULL,
	Distance float NULL,
	[Length] float NULL,
	Width float NULL,
	Direction nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LandPlotID int NULL,
	FarmID int NULL,
	CONSTRAINT PK__LandRow__0E72A6FAD7B08F4C PRIMARY KEY (LandRowID),
	CONSTRAINT FK__LandRow__LandPlo__22751F6C FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE
);


-- ipas.dbo.LegalDocument definition

-- Drop table

-- DROP TABLE ipas.dbo.LegalDocument;

CREATE TABLE ipas.dbo.LegalDocument (
	LegalDocumentID int IDENTITY(1,1) NOT NULL,
	LegalDocumentCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LegalDocumentType nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LegalDocumentName nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LegalDocumentURL nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	IssueDate datetime NULL,
	ExpiredDate datetime NULL,
	Status nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateAt datetime NULL,
	UpdateAt datetime NULL,
	FarmID int NULL,
	CONSTRAINT LegalDocument_PK PRIMARY KEY (LegalDocumentID),
	CONSTRAINT LegalDocument_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID)
);


-- ipas.dbo.MasterTypeDetails definition

-- Drop table

-- DROP TABLE ipas.dbo.MasterTypeDetails;

CREATE TABLE ipas.dbo.MasterTypeDetails (
	MasterTypeDetailID int IDENTITY(1,1) NOT NULL,
	MasterTypeDetailCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeDetailName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Value nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TypeOfValue nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ForeignKeyId int NULL,
	ForeignKeyTable nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeID int NULL,
	CONSTRAINT MasterTypeDetails_PK PRIMARY KEY (MasterTypeDetailID),
	CONSTRAINT MasterTypeDetails_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE CASCADE
);

-- DROP TABLE ipas.dbo.CriteriaMasterType;

CREATE TABLE ipas.dbo.CriteriaMasterType (
	CriteriaID int NOT NULL,
	MasterTypeID int NOT NULL,
	IsActive bit NULL,
	CONSTRAINT CriteriaMasterType_PK PRIMARY KEY (CriteriaID,MasterTypeID),
	CONSTRAINT CriteriaMasterType_Criteria_FK FOREIGN KEY (CriteriaID) REFERENCES ipas.dbo.Criteria(CriteriaID),
	CONSTRAINT CriteriaMasterType_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID)
);
-- ipas.dbo.[Order] definition

-- Drop table

-- DROP TABLE ipas.dbo.[Order];

CREATE TABLE ipas.dbo.[Order] (
	OrderID int IDENTITY(1,1) NOT NULL,
	OrderCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	OrderName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TotalPrice float NULL,
	Notes nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	OrderDate datetime NULL,
	EnrolledDate datetime NULL,
	ExpiredDate datetime NULL,
	PackageID int NULL,
	FarmID int NULL,
	CONSTRAINT PK__Order__C3905BAF4F3F1E0A PRIMARY KEY (OrderID),
	CONSTRAINT FK__Order__FarmID__251C81ED FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) ON DELETE CASCADE,
	CONSTRAINT FK__Order__PackageID__2610A626 FOREIGN KEY (PackageID) REFERENCES ipas.dbo.Package(PackageID) ON DELETE CASCADE
);


-- ipas.dbo.PackageDetail definition

-- Drop table

-- DROP TABLE ipas.dbo.PackageDetail;

CREATE TABLE ipas.dbo.PackageDetail (
	PackageDetailID int IDENTITY(1,1) NOT NULL,
	PackageDetailCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FeatureName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FeatureDescription nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PackageID int NULL,
	CONSTRAINT PK__PackageD__A7D8258A18A0833B PRIMARY KEY (PackageDetailID),
	CONSTRAINT FK__PackageDe__Packa__2704CA5F FOREIGN KEY (PackageID) REFERENCES ipas.dbo.Package(PackageID) ON DELETE CASCADE
);


-- ipas.dbo.Partner definition

-- Drop table

-- DROP TABLE ipas.dbo.Partner;

CREATE TABLE ipas.dbo.Partner (
	PartnerID int IDENTITY(1,1) NOT NULL,
	PartnerCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PartnerName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Province nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PhoneNumber nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Email nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	[National] nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RoleID int NULL,
	District nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Ward nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Major nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ContactName nvarchar(300) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Note nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	BusinessField nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__Partner__39FD6332F826F432 PRIMARY KEY (PartnerID),
	CONSTRAINT FK__Partner__RoleID__27F8EE98 FOREIGN KEY (RoleID) REFERENCES ipas.dbo.[Role](RoleID) ON DELETE CASCADE
);


-- ipas.dbo.Payment definition

-- Drop table

-- DROP TABLE ipas.dbo.Payment;

CREATE TABLE ipas.dbo.Payment (
	PaymentID int IDENTITY(1,1) NOT NULL,
	PaymentCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	TransactionID nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	PaymentMethod nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	UpdateDate datetime NULL,
	OrderID int NULL,
	CONSTRAINT PK__Payment__9B556A58F4F846AB PRIMARY KEY (PaymentID),
	CONSTRAINT FK__Payment__OrderID__28ED12D1 FOREIGN KEY (OrderID) REFERENCES ipas.dbo.[Order](OrderID) ON DELETE CASCADE
);


-- ipas.dbo.Plant definition

-- Drop table

-- DROP TABLE ipas.dbo.Plant;

CREATE TABLE ipas.dbo.Plant (
	PlantID int IDENTITY(1,1) NOT NULL,
	PlantCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantName nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantIndex int NULL,
	GrowthStage nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	HealthStatus nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	PlantingDate datetime NULL,
	PlantReferenceID int NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MasterTypeID int NULL,
	ImageURL nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LandRowID int NULL,
	IsDeleted bit NULL,
	FarmID int NULL,
	CONSTRAINT PK__Plant__98FE46BC7EA4DAD0 PRIMARY KEY (PlantID),
	CONSTRAINT Plant_LandRow_FK FOREIGN KEY (LandRowID) REFERENCES ipas.dbo.LandRow(LandRowID),
	CONSTRAINT Plant_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE SET NULL
);


-- ipas.dbo.PlantCriteria definition

-- Drop table

-- DROP TABLE ipas.dbo.PlantCriteria;

CREATE TABLE ipas.dbo.PlantCriteria (
	PlantID int NOT NULL,
	CriteriaID int NOT NULL,
	isChecked bit NULL,
	Priority int NULL,
	CONSTRAINT PK__PlantCri__5718EB0E819D7672 PRIMARY KEY (PlantID,CriteriaID),
	CONSTRAINT FK__CriteriaT__Crite__37703C52 FOREIGN KEY (CriteriaID) REFERENCES ipas.dbo.Criteria(CriteriaID) ON DELETE CASCADE,
	CONSTRAINT FK__CriteriaT__Plant__367C1819 FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE
);


-- ipas.dbo.PlantGrowthHistory definition

-- Drop table

-- DROP TABLE ipas.dbo.PlantGrowthHistory;

CREATE TABLE ipas.dbo.PlantGrowthHistory (
	PlantGrowthHistoryID int IDENTITY(1,1) NOT NULL,
	PlantGrowthHistoryCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	NoteTaker nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	PlantID int NULL,
	IssueName nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__PlantGro__8F26DC48C9286D17 PRIMARY KEY (PlantGrowthHistoryID),
	CONSTRAINT FK__PlantNote__Plant__32AB8735 FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE
);


-- ipas.dbo.PlantLot definition

-- Drop table

-- DROP TABLE ipas.dbo.PlantLot;

CREATE TABLE ipas.dbo.PlantLot (
	PlantLotID int IDENTITY(1,1) NOT NULL,
	PlantLotCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantLotName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PreviousQuantity int NULL,
	Unit nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LastQuantity int NULL,
	ImportedDate datetime NULL,
	Note nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PartnerID int NULL,
	PlantLotReferenceID int NULL,
	CONSTRAINT PK__PlantLot__58D457ABDE17F2CF PRIMARY KEY (PlantLotID),
	CONSTRAINT FK_PlantLot_Partner FOREIGN KEY (PartnerID) REFERENCES ipas.dbo.Partner(PartnerID) ON DELETE CASCADE,
	CONSTRAINT PlantLot_PlantLot_FK FOREIGN KEY (PlantLotReferenceID) REFERENCES ipas.dbo.PlantLot(PlantLotID)
);


-- ipas.dbo.Process definition

-- Drop table

-- DROP TABLE ipas.dbo.Process;

CREATE TABLE ipas.dbo.Process (
	ProcessID int IDENTITY(1,1) NOT NULL,
	ProcessCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ProcessName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	isDefault bit NULL,
	isActive bit NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	isDeleted bit NULL,
	FarmID int NULL,
	GrowthStageID int NULL,
	MasterTypeID int NULL,
	ResourceURL nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Input] nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__Process__1B39A976EDEF5BD5 PRIMARY KEY (ProcessID),
	CONSTRAINT Process_Farm_FK FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID),
	CONSTRAINT Process_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID) ON DELETE SET NULL,
	CONSTRAINT Process_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE SET NULL
);


-- ipas.dbo.SubProcess definition

-- Drop table

-- DROP TABLE ipas.dbo.SubProcess;

CREATE TABLE ipas.dbo.SubProcess (
	SubProcessID int IDENTITY(1,1) NOT NULL,
	SubProcessCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	SubProcessName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ParentSubProcessID int NULL,
	isDefault bit NULL,
	isActive bit NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	isDeleted bit NULL,
	ProcessID int NULL,
	MasterTypeID int NULL,
	ResourceURL nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Input] nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FarmID int NULL,
	CONSTRAINT PK__SubProce__F054A88CD66E5A59 PRIMARY KEY (SubProcessID),
	CONSTRAINT FK__SubProces__Proce__3CF40B7E FOREIGN KEY (ProcessID) REFERENCES ipas.dbo.Process(ProcessID) ON DELETE CASCADE,
	CONSTRAINT SubProcess_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE SET NULL
);


-- ipas.dbo.[User] definition

-- Drop table

-- DROP TABLE ipas.dbo.[User];

CREATE TABLE ipas.dbo.[User] (
	UserID int IDENTITY(1,1) NOT NULL,
	Email nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Password nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FullName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PhoneNumber nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Gender nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	DOB datetime NULL,
	UserCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	IsDelete bit NULL,
	DeleteDate datetime NULL,
	Status nvarchar(20) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	IsDependency int NULL,
	RoleID int NULL,
	AvatarURL nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Otp nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ExpiredOtpTime datetime NULL,
	Address nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RemainDays int NULL,
	CONSTRAINT PK__User__1788CCACFB4299F2 PRIMARY KEY (UserID),
	CONSTRAINT FK__User__RoleID__40C49C62 FOREIGN KEY (RoleID) REFERENCES ipas.dbo.[Role](RoleID) ON DELETE CASCADE
);


-- ipas.dbo.UserFarm definition

-- Drop table

-- DROP TABLE ipas.dbo.UserFarm;

CREATE TABLE ipas.dbo.UserFarm (
	UserID int NOT NULL,
	FarmID int NOT NULL,
	RoleId int NULL,
	Status nvarchar(50) NULL,
	CONSTRAINT PK__UserFarm__995F77051197DAC5 PRIMARY KEY (UserID,FarmID),
	CONSTRAINT FK__UserFarm__FarmID__41B8C09B FOREIGN KEY (FarmID) REFERENCES ipas.dbo.Farm(FarmID) ON DELETE CASCADE,
	CONSTRAINT FK__UserFarm__UserID__42ACE4D4 FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT UserFarm_Role_FK FOREIGN KEY (RoleId) REFERENCES ipas.dbo.[Role](RoleID)
);


-- ipas.dbo.ChatRoom definition

-- Drop table

-- DROP TABLE ipas.dbo.ChatRoom;

CREATE TABLE ipas.dbo.ChatRoom (
	RoomID int IDENTITY(1,1) NOT NULL,
	RoomCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RoomName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	AIResponseID int NULL,
	CreateBy int NULL,
	CONSTRAINT PK__ChatRoom__32863919A904C9FC PRIMARY KEY (RoomID),
	CONSTRAINT FK__ChatRoom__Create__17C286CF FOREIGN KEY (CreateBy) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE
);


-- ipas.dbo.GraftedPlant definition

-- Drop table

-- DROP TABLE ipas.dbo.GraftedPlant;

CREATE TABLE ipas.dbo.GraftedPlant (
	GraftedPlantID int IDENTITY(1,1) NOT NULL,
	GraftedPlantCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedPlantName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GrowthStage nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	SeparatedDate datetime NULL,
	Status nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedDate datetime NULL,
	Note nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantID int NULL,
	PlantLotID int NULL,
	CONSTRAINT PK__GraftedP__883CF82ACBB74009 PRIMARY KEY (GraftedPlantID),
	CONSTRAINT FK__GraftedPl__Plant__531856C7 FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE,
	CONSTRAINT GraftedPlant_PlantLot_FK FOREIGN KEY (PlantLotID) REFERENCES ipas.dbo.PlantLot(PlantLotID) ON DELETE CASCADE
);


-- ipas.dbo.GraftedPlantNote definition

-- Drop table

-- DROP TABLE ipas.dbo.GraftedPlantNote;

CREATE TABLE ipas.dbo.GraftedPlantNote (
	GraftedPlantNoteID int IDENTITY(1,1) NOT NULL,
	GraftedPlantNoteName nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Image] nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	NoteTaker nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedPlantID int NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	CONSTRAINT PK__GraftedP__09DC047162079786 PRIMARY KEY (GraftedPlantNoteID),
	CONSTRAINT FK_GraftedPlantNote_GraftedPlant FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID) ON DELETE CASCADE
);


-- ipas.dbo.HarvestTypeHistory definition

-- Drop table

-- DROP TABLE ipas.dbo.HarvestTypeHistory;

CREATE TABLE ipas.dbo.HarvestTypeHistory (
	HarvestTypeHistoryID INT IDENTITY(1,1) PRIMARY KEY, -- ID tự tăng làm khóa chính
	MasterTypeID INT NOT NULL,
	HarvestHistoryID INT NOT NULL,
	PlantID INT NULL, -- Cho phép NULL để lưu loại thu hoạch tổng quát trước
	Unit NVARCHAR(50) NULL,
	Price FLOAT NULL,
	Quantity INT NULL,

	-- Foreign key với bảng Plant
	CONSTRAINT FK_HarvestTypeHistory_Plant FOREIGN KEY (PlantID) 
		REFERENCES ipas.dbo.Plant(PlantID) ON DELETE CASCADE,

	-- Foreign key với bảng HarvestHistory
	CONSTRAINT FK_HarvestTypeHistory_HarvestHistory FOREIGN KEY (HarvestHistoryID) 
		REFERENCES ipas.dbo.HarvestHistory(HarvestHistoryID) ON DELETE CASCADE,

	-- Foreign key với bảng MasterType
	CONSTRAINT FK_HarvestTypeHistory_MasterType FOREIGN KEY (MasterTypeID) 
		REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE CASCADE
);

-- ipas.dbo.Notification definition

-- Drop table

-- DROP TABLE ipas.dbo.Notification;

CREATE TABLE ipas.dbo.Notification (
	NotificationID int IDENTITY(1,1) NOT NULL,
	NotificationCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Title nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Link nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	isRead bit NULL,
	UserID int NULL,
	MasterTypeID int NULL,
	CONSTRAINT PK__Notifica__20CF2E32F94B5C5B PRIMARY KEY (NotificationID),
	CONSTRAINT FK_Notification_User FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT Notification_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE CASCADE
);


-- ipas.dbo.[Plan] definition

-- Drop table

-- DROP TABLE ipas.dbo.[Plan];

CREATE TABLE ipas.dbo.[Plan] (
	PlanID int IDENTITY(1,1) NOT NULL,
	Status nvarchar(100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlanCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	StartDate datetime NULL,
	EndDate datetime NULL,
	UpdateDate datetime NULL,
	isActive bit NULL,
	Notes nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlanDetail nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ResponsibleBy nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Frequency nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlantID int NULL,
	LandPlotID int NULL,
	AssignorID int NULL,
	PesticideName nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MaxVolume float NULL,
	MinVolume float NULL,
	ProcessID int NULL,
	CropID int NULL,
	GrowthStageID int NULL,
	PlantLotID int NULL,
	IsDelete bit NULL,
	MasterTypeID int NULL,
	ReasonDelay nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	PlanName nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	GraftedPlantID int NULL,
	CONSTRAINT PK__Plan__755C22D7C27C8EF5 PRIMARY KEY (PlanID),
	CONSTRAINT FK_Plan_Process FOREIGN KEY (ProcessID) REFERENCES ipas.dbo.Process(ProcessID) ON DELETE CASCADE,
	CONSTRAINT FK__Plan__LandPlotID__1DB06A4F FOREIGN KEY (LandPlotID) REFERENCES ipas.dbo.LandPlot(LandPlotID) ON DELETE CASCADE,
	CONSTRAINT Plan_GraftedPlant_FK FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID),
	CONSTRAINT Plan_GrowthStage_FK FOREIGN KEY (GrowthStageID) REFERENCES ipas.dbo.GrowthStage(GrowthStageID) ON DELETE SET NULL,
	CONSTRAINT Plan_MasterType_FK FOREIGN KEY (MasterTypeID) REFERENCES ipas.dbo.MasterType(MasterTypeID) ON DELETE SET NULL,
	CONSTRAINT Plan_PlantLot_FK FOREIGN KEY (PlantLotID) REFERENCES ipas.dbo.PlantLot(PlantLotID) ON DELETE SET NULL,
	CONSTRAINT Plan_Plant_FK FOREIGN KEY (PlantID) REFERENCES ipas.dbo.Plant(PlantID),
	CONSTRAINT Plan_User_FK FOREIGN KEY (AssignorID) REFERENCES ipas.dbo.[User](UserID)
);


-- ipas.dbo.RefreshToken definition

-- Drop table

-- DROP TABLE ipas.dbo.RefreshToken;

CREATE TABLE ipas.dbo.RefreshToken (
	RefreshTokenID int IDENTITY(1,1) NOT NULL,
	RefreshTokenCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RefreshTokenValue nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	ExpiredDate datetime NULL,
	IsUsed bit NULL,
	IsRevoked bit NULL,
	UserID int NULL,
	CONSTRAINT PK__RefreshT__F5845E59CBB4AB2D PRIMARY KEY (RefreshTokenID),
	CONSTRAINT FK__RefreshTo__UserI__3BFFE745 FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE
);


-- ipas.dbo.CarePlanSchedule definition

-- Drop table

-- DROP TABLE ipas.dbo.CarePlanSchedule;

CREATE TABLE ipas.dbo.CarePlanSchedule (
	ScheduleID int IDENTITY(1,1) NOT NULL,
	DayOfWeek nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Status nvarchar(100) NULL,
	StarTime datetime NULL,
	EndTime datetime NULL,
	CarePlanID int NULL,
	DayOfMonth nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CustomDates nvarchar(MAX) NULL,
	CONSTRAINT PK__CarePlan__9C8A5B694338D9F1 PRIMARY KEY (ScheduleID),
	CONSTRAINT FK__CarePlanS__CareP__2180FB33 FOREIGN KEY (CarePlanID) REFERENCES ipas.dbo.[Plan](PlanID) ON DELETE CASCADE
);


-- ipas.dbo.ChatMessage definition

-- Drop table

-- DROP TABLE ipas.dbo.ChatMessage;

CREATE TABLE ipas.dbo.ChatMessage (
	MessageID int IDENTITY(1,1) NOT NULL,
	MessageCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	MessageContent nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	SenderID int NULL,
	IsUser bit NULL,
	MessageType nvarchar(1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	RoomID int NULL,
	CONSTRAINT PK__ChatMess__C87C037C2C4F831C PRIMARY KEY (MessageID),
	CONSTRAINT FK__ChatMessa__RoomI__16CE6296 FOREIGN KEY (RoomID) REFERENCES ipas.dbo.ChatRoom(RoomID) ON DELETE CASCADE
);


-- ipas.dbo.CriteriaGraftedPlant definition

-- Drop table

-- DROP TABLE ipas.dbo.CriteriaGraftedPlant;

CREATE TABLE ipas.dbo.CriteriaGraftedPlant (
	GraftedPlantID int NOT NULL,
	CriteriaID int NOT NULL,
	isChecked bit NULL,
	CONSTRAINT PK__Criteria__47DA559824FE7603 PRIMARY KEY (GraftedPlantID,CriteriaID),
	CONSTRAINT FK__CriteriaG__Crite__55F4C372 FOREIGN KEY (CriteriaID) REFERENCES ipas.dbo.Criteria(CriteriaID) ON DELETE CASCADE,
	CONSTRAINT FK__CriteriaG__Graft__55009F39 FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID) ON DELETE CASCADE
);


-- ipas.dbo.WorkLog definition

-- Drop table

-- DROP TABLE ipas.dbo.WorkLog;

CREATE TABLE ipas.dbo.WorkLog (
	WorkLogID int IDENTITY(1,1) NOT NULL,
	WorkLogCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
        WorkLogName nvarchar(300) NULL,
	Status nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Notes nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Date] datetime NULL,
	IsConfirm bit NULL,
	ScheduleID int NULL,
	HarvestHistoryID int NULL,
	WarningID int NULL,
	ReasonDelay nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CONSTRAINT PK__WorkLog__FE542DC2BB0A0EA4 PRIMARY KEY (WorkLogID),
	CONSTRAINT FK_WorkLog_HarvestHistory FOREIGN KEY (HarvestHistoryID) REFERENCES ipas.dbo.HarvestHistory(HarvestHistoryID) ON DELETE CASCADE,
	CONSTRAINT FK__WorkLog__Schedul__236943A5 FOREIGN KEY (ScheduleID) REFERENCES ipas.dbo.CarePlanSchedule(ScheduleID) ON DELETE CASCADE,
	CONSTRAINT WorkLog_Warning_FK FOREIGN KEY (WarningID) REFERENCES ipas.dbo.Warning(WarningID)
);


-- ipas.dbo.Resource definition

-- Drop table

-- DROP TABLE ipas.dbo.Resource;

CREATE TABLE ipas.dbo.Resource (
	ResourceID int IDENTITY(1,1) NOT NULL,
	ResourceCode nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ResourceURL nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Description nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	UpdateDate datetime NULL,
	ResourceType nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FileFormat nvarchar(200) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	WorkLogID int NULL,
	PlantGrowthHistoryID int NULL,
	LegalDocumentID int NULL,
	GraftedPlantID int NULL,
	CONSTRAINT Resource_PK PRIMARY KEY (ResourceID),
	CONSTRAINT Resource_GraftedPlant_FK FOREIGN KEY (GraftedPlantID) REFERENCES ipas.dbo.GraftedPlant(GraftedPlantID),
	CONSTRAINT Resource_LegalDocument_FK FOREIGN KEY (LegalDocumentID) REFERENCES ipas.dbo.LegalDocument(LegalDocumentID),
	CONSTRAINT Resource_PlantGrowthHistory_FK FOREIGN KEY (PlantGrowthHistoryID) REFERENCES ipas.dbo.PlantGrowthHistory(PlantGrowthHistoryID),
	CONSTRAINT Resource_WorkLog_FK FOREIGN KEY (WorkLogID) REFERENCES ipas.dbo.WorkLog(WorkLogID)
);


-- ipas.dbo.TaskFeedback definition

-- Drop table

-- DROP TABLE ipas.dbo.TaskFeedback;

CREATE TABLE ipas.dbo.TaskFeedback (
	TaskFeedbackID int IDENTITY(1,1) NOT NULL,
	TaskFeedbackCode nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Content nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CreateDate datetime NULL,
	WorkLogID int NULL,
	ManagerID int NULL,
	CONSTRAINT PK__TaskFeed__9CC94E1953C81F4C PRIMARY KEY (TaskFeedbackID),
	CONSTRAINT FK__TaskFeedb__Manag__3EDC53F0 FOREIGN KEY (ManagerID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT FK__TaskFeedb__WorkL__339FAB6E FOREIGN KEY (WorkLogID) REFERENCES ipas.dbo.WorkLog(WorkLogID) ON DELETE CASCADE
);


-- ipas.dbo.UserWorkLog definition

-- Drop table

-- DROP TABLE ipas.dbo.UserWorkLog;

CREATE TABLE ipas.dbo.UserWorkLog (
	WorkLogID int NOT NULL,
	UserID int NOT NULL,
	IsReporter bit NULL,
	CONSTRAINT PK__UserWork__2F2CA1082A09A834 PRIMARY KEY (WorkLogID,UserID),
	CONSTRAINT FK__UserWorkL__UserI__43A1090D FOREIGN KEY (UserID) REFERENCES ipas.dbo.[User](UserID) ON DELETE CASCADE,
	CONSTRAINT FK__UserWorkL__WorkL__25518C17 FOREIGN KEY (WorkLogID) REFERENCES ipas.dbo.WorkLog(WorkLogID) ON DELETE CASCADE
);
GO

INSERT INTO [dbo].[Farm] 
([FarmCode], [FarmName], [Address], [Longitude], [Latitude], [LogoURL], [Ward], [Province], [District], [Area], [SoilType], [ClimateZone], [CreateDate], [UpdateDate], [IsDeleted], [Status], [Length], [Width], [Description])
VALUES
('F001', 'Nam Hue Tan Trieu Pomelo', N'133/17 Hương Lộ 9', 106.786528, 10.9965,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Tân Bình', N'Đồng Nai', N'Vĩnh Cửu', 100.5, 'Clay', 'Tropical', GETDATE(), GETDATE(), 0, 'Active', 200, 150, 'Farm specializing in tropical fruits'),

('F002', 'Farm B', N'456 Blue Avenue', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg',
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F003', 'Farm C', N'789 Binh Duong', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F004', 'Farm D', N'910 Dong Nai', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F005', 'Farm E', N'911 Long An', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F006', 'Farm F', N'159 Can Gio', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F007', 'Farm G', N'567 Tien Giang', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 2', N'Province Y', N'District 2', 200.0, 'Loam', 'Temperate', GETDATE(), GETDATE(), 0, 'Active', 300, 250, 'Farm focused on vegetables and grains'),

('F008', 'Farm H', N'789 Kien Giang', 107.6297, 11.8231,
 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738660419/rzaub3vswgnfzvunvuov.jpg', 
 N'Ward 3', N'Province Z', N'District 3', 150.0, 'Sandy', 'Arid', GETDATE(), GETDATE(), 0, 'Inactive', 400, 350, 'Farm for livestock breeding');

GO

GO
INSERT INTO [dbo].[Role] ([RoleName], [isSystem])
VALUES
('Admin', 1),
('User', 2),
('Owner', 3),
('Manager', 4),
('Employee', 5);
GO
INSERT INTO [dbo].[User] ([Email], [Password], [FullName], [PhoneNumber], [Gender], [DOB], [UserCode], [CreateDate], [UpdateDate], [IsDelete], [Status], [IsDependency], [AvatarURL], [Otp], [ExpiredOtpTime], [RoleID])
VALUES
('thetamthd@gmail.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'John Doe', '0123456789', 'Male', '1990-05-10', 'U001', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://example.com/avatar1.png', NULL, NULL, 1),
('tambtse171869@fpt.edu.vn', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Jane Smith', '0987654321', 'Female', '1985-08-15', 'U002', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://example.com/avatar2.png', NULL, NULL, 2),
('abcfarm@gmail.com', '$2a$11$qi491eunYFCQeO..SFS.Iethgoa5BFyMgH5ugmS8Drv54uqZ5QpnC', 'Alex Johnson', '0912345678', 'Male', '1992-12-20', 'U003', GETDATE(), GETDATE(), 0, 'Active', NULL, 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1738903142/user/avatar/tgfbqvv5f3jmuc220rhy.webp', NULL, NULL, 2),
('user4@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'The Tam', '0912345678', 'Female', '1992-12-20', 'U003', GETDATE(), GETDATE(), 0, 'Inactive', NULL, 'https://example.com/avatar3.png', NULL, NULL, 2),
('user5@example.com', '$2a$11$1V.AriJm/OGpjG0vWRH8tuD9/Fi2ezrgyDJItAZ5bzGH1DTukcH9e', 'Phuoc Tan', '0912345678', 'Female', '1992-12-20', 'U003', GETDATE(), GETDATE(), 0, 'Inactive', NULL, 'https://example.com/avatar3.png', NULL, NULL, 2);
;
GO
INSERT INTO [dbo].[UserFarm] ([FarmID], [UserID], [RoleId])
VALUES 
(1,3,3),
(2,3,4),
(3,3,5),
(4,3,5);
GO
INSERT INTO [dbo].[GrowthStage] ([GrowthStageCode], [GrowthStageName], [MonthAgeStart], [MonthAgeEnd])  
VALUES  
    ('GERMINATION', N'Nảy mầm', 0, 2),  
    ('SEEDLING', N'Cây con', 3, 12),  
    ('VEGETATIVE', N'Sinh trưởng dinh dưỡng', 13, 36),  
    ('FLOWERING', N'Ra hoa', 37, 48),  
    ('FRUIT_SET', N'Đậu quả', 49, 60),  
    ('FRUIT_DEVELOPMENT', N'Phát triển quả', 61, 96),  
    ('HARVEST', N'Thu hoạch', 97, 120);
GO
INSERT INTO [dbo].[MasterType] 
    ([MasterTypeCode], [MasterTypeName], [TypeName], [MasterTypeDescription], [isDelete], [isActive], [CreateDate])
VALUES
    ('MT001', 'Product Category', 'ProcessType', 'Defines product categories', 0, 1, GETDATE()),
    ('MT002', 'User Role', 'Role', 'ProcessType', 0, 1, GETDATE()),
    ('MT003', 'Payment Method', 'ProcessType', 'Lists available payment methods', 0, 1, GETDATE()),
    ('MT004', 'Shipping Method', 'ProcessType', 'Lists available shipping methods', 0, 1, GETDATE()),
    ('MT005', 'Order Status', 'CriteriaType', 'Defines various order statuses', 0, 1, GETDATE()),
    ('MT006', 'Discount Type', 'CriteriaType', 'Defines types of discounts available', 0, 1, GETDATE()),
    ('MT007', 'Membership Level', 'CriteriaType', 'Defines customer membership levels', 0, 1, GETDATE()),
    ('MT008', 'Tax Type', 'Tax', 'HarvestType', 0, 1, GETDATE()),
    ('MT009', 'Subscription Plan', 'HarvestType', 'Lists available subscription plans', 0, 1, GETDATE()),
    ('MT010', 'Support Ticket Status', 'HarvestType', 'Defines statuses for customer support tickets', 0, 1, GETDATE());
GO
INSERT INTO [dbo].[Criteria]
    ([CriteriaCode], [CriteriaName], [CriteriaDescription], [Priority], [isActive], [isChecked], [MasterTypeID])
VALUES
    ('CR001', 'Quality Standard', 'Ensures high product quality', 1, 1, 0, 1),
    ('CR002', 'Customer Satisfaction', 'Measures customer happiness', 2, 1, 1, 2),
    ('CR003', 'On-Time Delivery', 'Tracks timely order fulfillment', 3, 1, 0, 3),
    ('CR004', 'Return Policy', 'Defines product return conditions', 4, 1, 1, 4),
    ('CR005', 'Payment Security', 'Ensures safe payment processing', 5, 1, 0, 3),
    ('CR006', 'Product Warranty', 'Guarantees product durability', 2, 1, 1, 1),
    ('CR007', 'Loyalty Program', 'Rewards frequent customers', 3, 1, 0, 7),
    ('CR008', 'Tax Compliance', 'Adheres to taxation policies', 4, 1, 1, 8),
    ('CR009', 'Support Response Time', 'Tracks customer service efficiency', 1, 1, 0, 10),
    ('CR010', 'Shipping Cost Efficiency', 'Optimizes delivery expenses', 2, 1, 1, 4);


INSERT INTO ipas.dbo.LandPlot 
( LandPlotCode, LandPlotName, Area, [Length], Width, SoilType, CreateDate, UpdateDate, Status, Description, FarmID, TargetMarket) 
VALUES
( 'LP001', 'Land Plot A', 500.0, 50.0, 10.0, 'Clay', '2024-01-01', '2024-01-05', 'Active', 'Suitable for rice farming', 1, 'Local Market'),
( 'LP002', 'Land Plot B', 300.0, 30.0, 10.0, 'Sandy', '2024-01-02', '2024-01-06', 'Active', 'Used for vegetable cultivation', 1, 'Supermarkets'),
( 'LP003', 'Land Plot C', 400.0, 40.0, 10.0, 'Loamy', '2024-01-03', '2024-01-07', 'Inactive', 'Ideal for fruit trees', 1, 'Export Market'),
( 'LP004', 'Land Plot D', 350.0, 35.0, 10.0, 'Silty', '2024-01-04', '2024-01-08', 'Active', 'For organic farming', 1, 'Organic Stores'),
( 'LP005', 'Land Plot E', 600.0, 60.0, 10.0, 'Peaty', '2024-01-05', '2024-01-09', 'Active', 'Large-scale crop production', 2, 'Food Processing Industry'),
( 'LP006', 'Land Plot F', 450.0, 45.0, 10.0, 'Chalky', '2024-01-06', '2024-01-10', 'Inactive', 'Experimental field', 2, 'Research Institutions'),
( 'LP007', 'Land Plot G', 550.0, 55.0, 10.0, 'Loamy', '2024-01-07', '2024-01-11', 'Active', 'High-yield production', 2, 'Supermarkets'),
( 'LP008', 'Land Plot H', 280.0, 28.0, 10.0, 'Sandy', '2024-01-08', '2024-01-12', 'Active', 'Ideal for root vegetables', 3, 'Local Market'),
( 'LP009', 'Land Plot I', 370.0, 37.0, 10.0, 'Clay', '2024-01-09', '2024-01-13', 'Inactive', 'Newly acquired land', 3, 'Wholesale Distribution'),
( 'LP010', 'Land Plot J', 520.0, 52.0, 10.0, 'Silty', '2024-01-10', '2024-01-14', 'Active', 'For mixed crops', 3, 'Export Market');

INSERT INTO ipas.dbo.LandPlotCoordination (LandPlotCoordinationCode, Longitude, Lagtitude, LandPlotID)
VALUES
    ('LPC-001', 106.78546314117068, 10.997278708395825, 1),
    ('LPC-002', 106.78589533924475, 10.997556840012322, 1),
    ('LPC-003', 106.78592699828585, 10.99751539287513, 1),
    ('LPC-004', 106.78547296403684, 10.997232090171735, 1),
    ('LPC-005', 106.78546314117068, 10.997278708395825, 1),
    ('LPC-006', 106.7855136114656, 10.997171331485006, 1),
    ('LPC-007', 106.78596437055711, 10.997462428171985, 1),
    ('LPC-008', 106.78593105040267, 10.997509293796838, 1),
    ('LPC-009', 106.78547802086456, 10.997225685284874, 1),
    ('LPC-0010', 106.7855136114656, 10.997171331485006, 1);

INSERT INTO ipas.dbo.LandRow 
( LandRowCode, RowIndex, TreeAmount, Distance, [Length], Width, Direction, CreateDate, UpdateDate, Status, Description, LandPlotID) 
VALUES
( 'LR001', 1, 50, 2.5, 30.0, 5.0, 'North', '2024-01-01', '2024-01-05', 'Active', 'Row for tomatoes', 1),
( 'LR002', 2, 40, 2.0, 25.0, 4.5, 'South', '2024-01-02', '2024-01-06', 'Active', 'Row for lettuce', 1),
( 'LR003', 3, 60, 3.0, 35.0, 6.0, 'East', '2024-01-03', '2024-01-07', 'Inactive', 'Row for carrots', 1),
( 'LR004', 4, 30, 1.8, 20.0, 4.0, 'West', '2024-01-04', '2024-01-08', 'Active', 'Row for cabbage', 2),
( 'LR005', 5, 70, 2.7, 40.0, 6.5, 'North', '2024-01-05', '2024-01-09', 'Active', 'Row for strawberries', 2),
( 'LR006', 6, 80, 3.2, 45.0, 7.0, 'South', '2024-01-06', '2024-01-10', 'Inactive', 'Row for spinach', 2),
( 'LR007', 7, 55, 2.2, 32.0, 5.5, 'East', '2024-01-07', '2024-01-11', 'Active', 'Row for peppers', 2),
( 'LR008', 8, 90, 3.5, 50.0, 7.5, 'West', '2024-01-08', '2024-01-12', 'Active', 'Row for pumpkins', 2),
( 'LR009', 9, 65, 2.9, 38.0, 6.8, 'North', '2024-01-09', '2024-01-13', 'Inactive', 'Row for potatoes', 1),
( 'LR010', 10, 75, 3.1, 42.0, 7.2, 'South', '2024-01-10', '2024-01-14', 'Active', 'Row for onions', 1);


INSERT INTO ipas.dbo.Plant 
( PlantCode, PlantName, PlantIndex, GrowthStage, HealthStatus, CreateDate, UpdateDate, PlantingDate, PlantReferenceID, Description, MasterTypeID, ImageURL, LandRowID) 
VALUES
( 'P001', 'Tomato', 1, 'Seedling', 'Healthy', '2024-01-01', '2024-01-05', '2023-12-25', NULL, 'Cherry tomato variety', 1, 'https://example.com/tomato.jpg', 1),
( 'P002', 'Lettuce', 2, 'Mature', 'Healthy', '2024-01-02', '2024-01-06', '2023-12-20', NULL, 'Green leafy lettuce', 2, 'https://example.com/lettuce.jpg', 1),
( 'P003', 'Carrot', 3, 'Germination', 'Unhealthy', '2024-01-03', '2024-01-07', '2023-12-18', NULL, 'Orange root vegetable', 1, 'https://example.com/carrot.jpg', 1),
( 'P004', 'Cabbage', 4, 'Vegetative', 'Healthy', '2024-01-04', '2024-01-08', '2023-12-15', NULL, 'Round green cabbage', 2, 'https://example.com/cabbage.jpg', 1),
( 'P005', 'Strawberry', 5, 'Flowering', 'Moderate', '2024-01-05', '2024-01-09', '2023-12-10', NULL, 'Red juicy strawberry', 1, 'https://example.com/strawberry.jpg', 2),
( 'P006', 'Spinach', 6, 'Harvest', 'Healthy', '2024-01-06', '2024-01-10', '2023-12-08', NULL, 'Rich in iron', 2, 'https://example.com/spinach.jpg', 2),
( 'P007', 'Pepper', 7, 'Mature', 'Unhealthy', '2024-01-07', '2024-01-11', '2023-12-05', NULL, 'Spicy red pepper', 1, 'https://example.com/pepper.jpg', 2),
( 'P008', 'Pumpkin', 8, 'Seedling', 'Moderate', '2024-01-08', '2024-01-12', '2023-12-01', NULL, 'Large orange pumpkin', 2, 'https://example.com/pumpkin.jpg', 2),
( 'P009', 'Potato', 9, 'Germination', 'Healthy', '2024-01-09', '2024-01-13', '2023-11-28', NULL, 'Underground tuber', 1, 'https://example.com/potato.jpg', 2),
( 'P010', 'Onion', 10, 'Mature', 'Moderate', '2024-01-10', '2024-01-14', '2023-11-25', NULL, 'Pungent bulb vegetable', 2, 'https://example.com/onion.jpg', 2);

GO
-- Chèn dữ liệu vào bảng LegalDocument
INSERT INTO ipas.dbo.LegalDocument (LegalDocumentCode, LegalDocumentType, LegalDocumentName, LegalDocumentURL, IssueDate, ExpiredDate, Status, CreateAt, UpdateAt, FarmID)
VALUES
('LD-001', 'License', 'Organic Farming Certificate', 'https://example.com/doc1.pdf', '2023-01-10', '2025-01-10', 'Active', GETDATE(), GETDATE(), 1),
('LD-002', 'Permit', 'Water Usage Permit', 'https://example.com/doc2.pdf', '2022-06-15', '2024-06-15', 'Active', GETDATE(), GETDATE(), 1),
('LD-003', 'Registration', 'Land Registration Document', 'https://example.com/doc3.pdf', '2021-05-20', '2031-05-20', 'Active', GETDATE(), GETDATE(), 2),
('LD-004', 'Certificate', 'ISO 9001 Certification', 'https://example.com/doc4.pdf', '2020-09-12', '2025-09-12', 'Expired', GETDATE(), GETDATE(), 1),
('LD-005', 'Agreement', 'Supplier Contract', 'https://example.com/doc5.pdf', '2023-02-01', '2026-02-01', 'Active', GETDATE(), GETDATE(), 2);
GO
-- Chèn dữ liệu vào bảng Resource với liên kết đến LegalDocument
INSERT INTO ipas.dbo.Resource (ResourceCode, ResourceURL, Description, CreateDate, UpdateDate, ResourceType, FileFormat, WorkLogID, PlantGrowthHistoryID, LegalDocumentID, GraftedPlantID)
VALUES
('RES-001', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010443/farm/legal-document/lhhd96qnxjcbxcgh6yvy.jpg', 'Organic Farming Guidelines', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 1, NULL),
('RES-002', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010451/farm/legal-document/wt9wa7j9gvigriusqxzk.jpg', 'Water Usage Regulations', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 1, NULL),
('RES-003', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010457/farm/legal-document/rhdtcktzwkbqzhe4njcc.jpg', 'Land Ownership Data', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 1, NULL),
('RES-004', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010609/iy0c6zxgjkdx7ocmvmih.jpg', 'ISO 9001 Audit Report', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 2, NULL),
('RES-005', 'https://res.cloudinary.com/dgshx4n2c/image/upload/v1739010644/lfcr5rsg6rnm1y2a7euc.jpg', 'Supplier Agreement Presentation', GETDATE(), GETDATE(), 'LegalDocument', 'image', NULL, NULL, 2, NULL);
GO
-- Insert fake data into Crop
INSERT INTO ipas.dbo.Crop (CropCode, CropName,StartDate, EndDate ,CreateDate, UpdateDate, CropExpectedTime, Year, CropActualTime, HarvestSeason, EstimateYield, ActualYield, IsDeleted, Status, Notes, MarketPrice, FarmID)
VALUES 
(N'CRP001', N'Rice', '2024-10-10', '2025-06-15', '2023-01-10', '2023-06-15', '2023-05-01', 2023, '2023-06-10', N'Spring', 5000, 4800, 0, N'Active', N'High yield', 1200, 1),
(N'CRP002', N'Corn', '2024-10-10', '2025-06-15','2023-02-05', '2023-07-20', '2023-06-10', 2023, '2023-07-25', N'Summer', 3000, 2900, 0, N'Active', N'Good season', 800, 1),
(N'CRP003', N'Wheat', '2024-10-10', '2025-06-15','2023-03-12', '2023-08-10', '2023-07-15', 2023, '2023-08-20', N'Autumn', 4000, 3900, 0, N'Active', N'Quality harvest', 1000, 2),
(N'CRP004', N'Barley', '2024-10-10', '2025-06-15','2023-04-18', '2023-09-30', '2023-09-01', 2023, '2023-10-10', N'Winter', 2500, 2400, 0, N'Inactive', N'Needs better soil', 900, 2),
(N'CRP005', N'Soybean','2024-10-10', '2025-06-15', '2023-05-20', '2023-11-15', '2023-10-10', 2023, '2023-11-20', N'Spring', 3200, 3100, 0, N'Active', N'Great market demand', 1100, 3),
(N'CRP006', N'Peanut', '2024-10-10', '2025-06-15','2023-06-25', '2023-12-10', '2023-11-01', 2023, '2023-12-15', N'Summer', 2700, 2600, 0, N'Active', N'Organic crop', 1050, 3),
(N'CRP007', N'Potato', '2024-10-10', '2025-06-15','2023-07-30', '2024-01-05', '2023-12-20', 2024, '2024-01-10', N'Winter', 3500, 3400, 0, N'Inactive', N'Requires more nutrients', 1150, 4),
(N'CRP008', N'Carrot', '2024-10-10', '2025-06-15','2023-08-15', '2024-02-10', '2024-01-10', 2024, '2024-02-15', N'Autumn', 2800, 2750, 0, N'Active', N'Excellent growth rate', 950, 4);
GO
-- Insert fake data into LandPlotCrop (Mapping crops to land plots)
INSERT INTO ipas.dbo.LandPlotCrop (LandPlotID, CropID)
VALUES 
(1, 1),
(1, 2),
(2, 3),
(2, 4),
(3, 5),
(3, 6),
(4, 7),
(4, 8);
GO
INSERT INTO ipas.dbo.HarvestHistory 
    (HarvestHistoryCode, DateHarvest, HarvestHistoryNote, TotalPrice, HarvestStatus, CropID)
VALUES 
    ('HH001', '2023-01-10', 'First harvest of the year', 15000.0, 'Completed', 1),
    ('HH002', '2023-02-15', 'Spring harvest', 25000.0, 'Completed', 1),
    ('HH003', '2023-03-20', 'Rainy season harvest', 18000.5, 'Pending', 1),
    ('HH004', '2023-04-05', 'Harvest delayed due to weather', 21000.0, 'In Progress', 2),
    ('HH005', '2023-05-12', 'Testing new harvesting method', 32000.0, 'Completed', 2),
    ('HH006', '2023-06-25', 'Summer harvest', 27000.8, 'Completed', 3),
    ('HH007', '2023-07-30', 'Low yield this season', 15000.0, 'Pending', 3),
    ('HH008', '2023-08-22', 'Excellent harvest', 40000.0, 'Completed', 4),
    ('HH009', '2023-09-10', 'Stored for future sale', 36000.5, 'Completed', 4),
    ('HH010', '2023-10-15', 'Final harvest before winter', 22000.0, 'Pending', 5);
GO
INSERT INTO ipas.dbo.HarvestTypeHistory (MasterTypeID, PlantID, Unit, Price, Quantity, HarvestHistoryID)
VALUES 
    (10, NULL, 10, 5000.5, 100, 1),
    (9, NULL, 5, 7500.0, 50, 1),
    (10, NULL, 8, 6200.3, 80, 1),
    (9, 4, 12, 8800.0, 120, 1),
    (10, 5, 7, 4300.7, 70, 1),
    (9, 6, 6, 6700.2, 60, 1),
    (8, 7, 9, 9100.4, 90, 1),
    (8, 8, 4, 3000.9, 40, 1),
    (9, 9, 11, 5000.0, 110, 1),
    (10, 10, 3, 2500.5, 30, 1);
GO
INSERT INTO ipas.dbo.Process 
(ProcessCode, ProcessName, isDefault, isActive, CreateDate, UpdateDate, isDeleted, GrowthStageID, MasterTypeID, ResourceURL, [Input], FarmID)  
VALUES
(N'P006', N'Làm đất', 1, 1, '2024-02-06', NULL, 0, 1, 1, N'https://example.com/resource6', N'{"tools": "plow", "depth": "30cm"}', 1),
(N'P007', N'Phun thuốc trừ sâu', 0, 1, '2024-02-07', '2024-02-15', 0, 2, 1, N'https://example.com/resource7', N'{"chemical": "organic", "dosage": "500ml"}', 2),
(N'P008', N'Cắt tỉa', 1, 1, '2024-02-08', NULL, 0, 3, 2, N'https://example.com/resource8', N'{"method": "manual", "frequency": "weekly"}', 1),
(N'P009', N'Đo độ ẩm đất', 0, 1, '2024-02-09', '2024-02-16', 0, 2, NULL, N'https://example.com/resource9', N'{"sensor": "moisture probe"}', 3),
(N'P010', N'Bảo quản sau thu hoạch', 0, 1, '2024-02-10', NULL, 0, NULL, 3, N'https://example.com/resource10', N'{"storage": "cold room"}', 2),
(N'P011', N'Gieo hạt giống mới', 1, 1, '2024-02-11', '2024-02-18', 0, 1, 1, N'https://example.com/resource11', N'{"seed_type": "corn", "spacing": "10cm"}', 3),
(N'P012', N'Tưới nhỏ giọt', 0, 1, '2024-02-12', NULL, 0, 2, 1, N'https://example.com/resource12', N'{"system": "drip irrigation"}', 1),
(N'P013', N'Bón phân hữu cơ', 1, 1, '2024-02-13', '2024-02-20', 0, 3, 2, N'https://example.com/resource13', N'{"compost": "cow manure"}', 2),
(N'P014', N'Thu hoạch sớm', 0, 1, '2024-02-14', NULL, 0, NULL, 3, N'https://example.com/resource14', N'{"criteria": "size & color"}', 3),
(N'P015', N'Đánh giá năng suất', 0, 1, '2024-02-15', '2024-02-22', 0, 2, NULL, N'https://example.com/resource15', N'{"method": "sampling"}', 1);
GO